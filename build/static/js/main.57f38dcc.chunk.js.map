{"version":3,"sources":["store/PkiStore.js","pages/lk/lk.jsx","pages/main.js","store/DevicesStore.js","pages/devices.js","store/store.js","http/index.js","http/deviceAPI.js","pages/device.js","store/BasketStore.js","components/CardHorizon/CardHorizon.jsx","store/UserStore.js","http/buyAPI.js","pages/basket.js","pages/shop.js","http/pkiAPI.js","pages/lk/stock.jsx","pages/lk/StockPki.jsx","pages/lk/graph.jsx","components/DeviceInfo/deviceInfo.jsx","pages/lk/device.jsx","routes.js","components/user/user.js","components/nav/nav.js","components/header/header.js","components/modal/modal.jsx","http/userAPI.js","components/Login/Login.jsx","components/Message/Message.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["PkiStore","this","_pki","makeAutoObservable","pki","id","PkiContext","createContext","Lk","path","useRouteMatch","className","Provider","value","exact","MainLk","myRoom","routes","map","item","component","url","to","Main","DeviceStore","_devices","devices","data","DevicesContext","Devices","observer","useContext","Object","values","allDevices","index","name","img","descriptionShort","src","process","alt","DeviceContext","$host","axios","create","baseURL","$authHost","interceptors","request","use","config","headers","authorization","localStorage","getItem","createDevice","formData","a","post","res","updateDevice","put","fetchAllDevices","get","fetchOneDevice","deleteDevice","delete","status","Device","addToCart","buyNow","useParams","useState","props","device","setDevice","useEffect","then","descriptionFull","title","prop","inStock","price","type","onClick","BasketStore","idDevice","count","filter","BasketContext","CardHorizon","children","UserStore","_isAuth","_user","val","userData","role","UserContext","buyDevices","basket","Basket","user","openModal","length","noGoods","totalCost","reduce","acc","totalGoods","changeCount","func","indexDevice","findIndex","countDec","countInc","deleteAllGoods","clearBasket","buy","toBuy","user_id","forEach","info","getDevice","console","log","isAuth","htmlFor","disabled","deleteFromBasket","Shop","history","useHistory","enableInBasket","some","saveInBasket","push","placeholder","fetchAllPki","deletePki","updatePki","Stock","isOpenModal","setMessage","dialogResult","selected","setSelected","fetchPki","setAllPki","devs","setAllDevices","text","cancel","ok","StockPki","pkiArray","setPkiArray","handleSavePki","e","preventDefault","pkiToSave","savePki","FormData","append","JSON","stringify","target","reset","changeProps","key","prop_id","onSubmit","defaultValue","onBlur","trim","deliver","min","parseInt","editPki","Date","Graph","DeviceInfo","setProps","devicePki","setDevicePki","allPki","handleSubmit","newDevice","changePki","rows","onChange","keys","DeviceAdd","match","publicRoutes","User","isAdmin","email","setUser","setIsAuth","removeItem","Nav","pathname","useLocation","Header","openLogin","isLogin","Logo","enableBackground","height","viewBox","width","xmlns","d","fill","Modal","isOpen","setOpenModal","registration","password","token","setItem","jwt_decode","login","check","Login","auth","setAuth","setEmail","pass","setPass","isValidPass","setValid","signIn","message","required","href","Message","closeModal","App","typeOfModal","setTypeOfModal","setDialogResult","admin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","DevicesStore","document","getElementById"],"mappings":"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","file":"static/js/main.57f38dcc.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class PkiStore {\r\n  constructor() {\r\n    this._pki = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAllPki(pki) {\r\n    this._pki = { ...this._pki, ...pki };\r\n  }\r\n\r\n  get allPki() {\r\n    return this._pki;\r\n  }\r\n\r\n  getOnePki(id) {\r\n    return this._pki[id];\r\n  }\r\n}\r\n\r\nexport const PkiContext = createContext();\r\n","import \"./lk.scss\";\r\nimport { myRoom } from \"../../routes\";\r\nimport { Switch, Route, Link, useRouteMatch } from \"react-router-dom\";\r\nimport PkiStore, { PkiContext } from \"../../store/PkiStore\";\r\n\r\nfunction Lk() {\r\n  let { path } = useRouteMatch();\r\n  return (\r\n    <section className='my-room'>\r\n      <div className='container'>\r\n        <h2 className='my-room__title'>Личный кабинет</h2>\r\n        <div className='my-room__inner'>\r\n          <PkiContext.Provider value={{ pki: new PkiStore() }}>\r\n            <Switch>\r\n              <Route exact path={path}>\r\n                <MainLk />\r\n              </Route>\r\n              {myRoom[0].routes.map((item) => (\r\n                <Route\r\n                  path={item.path}\r\n                  component={item.component}\r\n                  key={item.path}\r\n                />\r\n              ))}\r\n            </Switch>\r\n          </PkiContext.Provider>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Lk;\r\n\r\nfunction MainLk() {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <h4>Выберите один из пунктов</h4>\r\n      <ul>\r\n        <li>\r\n          <Link to={`${url}/device`}>Устройства</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${url}/pki`}>ПКИ</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${url}/graph`}>Статистика</Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import \"./main.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Main() {\r\n  return (\r\n    <section className='main'>\r\n      <div className='container'>\r\n        <div className='main__inner'>\r\n          <h1>Moto-device</h1>\r\n          <h3>Прокачай свой байк!</h3>\r\n          <div className='main__description'>\r\n            <p>\r\n              Краткое описание предлагаемых устройств, их функционал и\r\n              достоинства.\r\n            </p>\r\n            <div className='main__links'>\r\n              <Link to='/shop'>Купить</Link>\r\n              <Link to='/device'>Устройства</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class DeviceStore {\r\n  constructor() {\r\n    this._devices = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAllDevices(devices) {\r\n    this._devices = devices;\r\n  }\r\n\r\n  setDevice(id, data) {\r\n    this._devices[id] = data;\r\n  }\r\n\r\n  get allDevices() {\r\n    return this._devices;\r\n  }\r\n\r\n  getDevice(id) {\r\n    return this._devices[id];\r\n  }\r\n}\r\n\r\nexport const DevicesContext = createContext();\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport \"./devices.scss\";\r\n\r\nconst Devices = observer(() => {\r\n  const { devices } = useContext(DevicesContext);\r\n  return (\r\n    <section className='devices'>\r\n      <div className='container'>\r\n        <div className='devices__inner'>\r\n          <h2>Устройства</h2>\r\n          {Object.values(devices.allDevices).map(\r\n            ({ name, id, img, descriptionShort }, index) => {\r\n              return (\r\n                <div className='devices__item' key={index}>\r\n                  <div className='devices__image'>\r\n                    <img\r\n                      src={process.env.REACT_APP_API_URL + \"/\" + img}\r\n                      alt='device'\r\n                    />\r\n                  </div>\r\n                  <div className='devices__description'>\r\n                    <h3>{name}</h3>\r\n                    <p>{descriptionShort}</p>\r\n                    <Link to={`/device/${id}`}>Подробнее</Link>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Devices;\r\n","import { createContext } from \"react\";\r\n\r\nexport const devices = {\r\n  t1: {\r\n    name: \"Device #1\",\r\n    id: \"t1\",\r\n    inStock: 2,\r\n    price: 1200,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 120,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 3500,\r\n      },\r\n    },\r\n  },\r\n  t2: {\r\n    name: \"Device #2\",\r\n    id: \"t2\",\r\n    inStock: 1,\r\n    price: 800,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 80,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 3000,\r\n      },\r\n    },\r\n  },\r\n  t3: {\r\n    name: \"Device #3\",\r\n    id: \"t3\",\r\n    inStock: 3,\r\n    price: 1000,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 100,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 4500,\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport const DeviceContext = createContext();\r\n\r\nexport const GoodsContext = createContext();\r\n","import axios from \"axios\";\r\n\r\nconst $host = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nconst $authHost = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nconst authInterceptors = (config) => {\r\n  config.headers.authorization = `Bearer ${localStorage.getItem(\"token\")}`;\r\n  return config;\r\n};\r\n\r\n$authHost.interceptors.request.use(authInterceptors);\r\n\r\nexport { $authHost, $host };\r\n","import { $authHost, $host } from \"./index\";\r\n\r\nexport const createDevice = async (formData) => {\r\n  const res = await $authHost.post(\"api/device\", formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateDevice = async (id, formData) => {\r\n  const res = await $authHost.put(`api/device/${id}`, formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchAllDevices = async () => {\r\n  const res = await $host.get(\"api/device\");\r\n  return res.data;\r\n};\r\n\r\nexport const fetchOneDevice = async (id) => {\r\n  const res = await $host.get(`api/device/${id}`);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteDevice = async (id) => {\r\n  const res = (await $authHost.delete(`api/device/${id}`)).status;\r\n  return res.data;\r\n};\r\n","import \"./device.scss\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../store/store\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { fetchOneDevice } from \"../http/deviceAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Device = observer(() => {\r\n  const { addToCart, buyNow } = useContext(DeviceContext);\r\n  const { devices } = useContext(DevicesContext);\r\n  const { id } = useParams();\r\n  const [device, setDevice] = useState({ props: [] });\r\n\r\n  useEffect(() => {\r\n    fetchOneDevice(id).then((data) => {\r\n      setDevice(data);\r\n      devices.setDevice(data.id, data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <section className='device'>\r\n      <div className='container'>\r\n        <div className='device__inner'>\r\n          <h2>{device.name}</h2>\r\n          <img\r\n            src={process.env.REACT_APP_API_URL + \"/\" + device.img}\r\n            alt='device'\r\n          />\r\n          <p>{device.descriptionFull}</p>\r\n          <table className='device__props'>\r\n            <thead>\r\n              <tr>\r\n                <th>Характеристика</th>\r\n                <th>Значение</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {Object.values(device.props).map((item, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.prop}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <p> В наличии: {device.inStock} шт.</p>\r\n          <p> Стоимость: {device.price} руб.</p>\r\n          <div className='device__links'>\r\n            <button type='button' onClick={() => buyNow(device.id)}>\r\n              Купить сейчас\r\n            </button>\r\n            <button type='button' onClick={() => addToCart(device.id)}>\r\n              В Корзину\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Device;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class BasketStore {\r\n  constructor() {\r\n    this._devices = [];\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  saveInBasket(idDevice) {\r\n    this._devices = [...this._devices, { id: idDevice, count: 1 }];\r\n  }\r\n\r\n  deleteFromBasket(idDevice) {\r\n    this._devices = this._devices.filter((item) => item.id !== idDevice);\r\n  }\r\n\r\n  clearBasket() {\r\n    this._devices = [];\r\n  }\r\n\r\n  countInc(index) {\r\n    this._devices[index].count++;\r\n  }\r\n\r\n  countDec(index) {\r\n    this._devices[index].count--;\r\n  }\r\n\r\n  get allDevices() {\r\n    return this._devices;\r\n  }\r\n}\r\n\r\nexport const BasketContext = createContext();\r\n","import \"./cardHorizon.scss\";\r\n\r\nfunction CardHorizon({ children, item }) {\r\n  return (\r\n    <div className='card-h'>\r\n      <div className='card-h__image'>\r\n        <img\r\n          src={process.env.REACT_APP_API_URL + \"/\" + item.img}\r\n          alt='device'\r\n        />\r\n      </div>\r\n      <div className='card-h__header'>\r\n        <h3 className='card-h__title'>{item.name}</h3>\r\n      </div>\r\n      <div className='card-h__body'>\r\n        <p>{item.descriptionShort}</p>\r\n        <p>В наличии: {item.inStock} шт.</p>\r\n        <p> Стоимость: {item.price} руб.</p>\r\n      </div>\r\n      <div className='card-h__footer'>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardHorizon;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class UserStore {\r\n  constructor() {\r\n    this._isAuth = false;\r\n    this._user = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setIsAuth(val) {\r\n    this._isAuth = val;\r\n  }\r\n\r\n  setUser(userData) {\r\n    this._user = { ...this._user, ...userData };\r\n  }\r\n\r\n  get isAuth() {\r\n    return this._isAuth;\r\n  }\r\n\r\n  get user() {\r\n    return this._user;\r\n  }\r\n\r\n  get isAdmin() {\r\n    return this._user.role && this._user.role === \"ADMIN\";\r\n  }\r\n}\r\n\r\nexport const UserContext = createContext();\r\n","import { $authHost } from \"./index\";\r\n\r\nexport const buyDevices = async (basket) => {\r\n  const res = await $authHost.post(\"api/statistics\", basket);\r\n  return res;\r\n};\r\n\r\nexport const fetchAllDevices = async () => {\r\n  const res = await $authHost.get(\"api/statistics\");\r\n  return res.data;\r\n};\r\n","import \"./basket.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext, useState } from \"react\";\r\nimport { BasketContext } from \"../store/BasketStore\";\r\nimport { DeviceContext } from \"../store/store\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport CardHorizon from \"../components/CardHorizon/CardHorizon\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { UserContext } from \"../store/UserStore\";\r\nimport { buyDevices } from \"../http/buyAPI\";\r\n\r\nconst Basket = observer(() => {\r\n  const { basket } = useContext(BasketContext);\r\n  const { devices } = useContext(DevicesContext);\r\n  const { user } = useContext(UserContext);\r\n  const { openModal } = useContext(DeviceContext);\r\n\r\n  const [noGoods, setNoGoods] = useState(!basket.allDevices.length);\r\n  const totalCost = basket.allDevices.reduce(\r\n    (acc, item) => item.count * devices.allDevices[item.id].price + acc,\r\n    0\r\n  );\r\n  const totalGoods = basket.allDevices.reduce(\r\n    (acc, { count }) => acc + count,\r\n    0\r\n  );\r\n  const changeCount = (idDevice, func) => {\r\n    const indexDevice = basket.allDevices.findIndex(\r\n      (item) => item.id === idDevice\r\n    );\r\n    // eslint-disable-next-line default-case\r\n    switch (func) {\r\n      case \"minus\":\r\n        basket.countDec(indexDevice);\r\n        break;\r\n      case \"plus\":\r\n        basket.countInc(indexDevice);\r\n        break;\r\n    }\r\n  };\r\n  const deleteGood = (idDevice) => {\r\n    basket.deleteFromBasket(idDevice);\r\n  };\r\n\r\n  const deleteAllGoods = () => {\r\n    basket.clearBasket();\r\n  };\r\n\r\n  const buy = async () => {\r\n    const toBuy = { user_id: user.user.id, devices: basket.allDevices };\r\n    toBuy.devices.forEach((item) => (item.info = devices.getDevice(item.id)));\r\n    const res = await buyDevices(toBuy);\r\n    if (res.status === 200) deleteAllGoods();\r\n    console.log(\"Покупка\", res);\r\n  };\r\n\r\n  return (\r\n    <section className='basket'>\r\n      <div className='container'>\r\n        <h2>Корзина</h2>\r\n\r\n        {noGoods && (\r\n          <p>\r\n            В корзине пока нет товаров! <Link to='/shop'>Выбрать товар</Link>\r\n          </p>\r\n        )}\r\n        {!noGoods && (\r\n          <div className='basket__container'>\r\n            <aside className='basket__menu'>\r\n              <div className='info'>\r\n                <h3 className='info__title'>В корзине </h3>\r\n                <p className='info__text'>{totalGoods} товаров</p>\r\n                <p className='info__text'>К оплате: {totalCost} рублей</p>\r\n                {user.isAuth ? (\r\n                  <button onClick={buy}>Оформить</button>\r\n                ) : (\r\n                  <button onClick={() => openModal(\"login\")}>Войти</button>\r\n                )}\r\n              </div>\r\n\r\n              <button className='basket__btn' onClick={deleteAllGoods}>\r\n                Очистить корзину\r\n              </button>\r\n            </aside>\r\n            <div className='basket__goods'>\r\n              {basket.allDevices.map((item, index) => (\r\n                <CardHorizon item={devices.getDevice(item.id)} key={index}>\r\n                  <div className='options'>\r\n                    <label htmlFor='count'>Количество</label>\r\n                    <div className='options__control'>\r\n                      <button\r\n                        className='options__btn'\r\n                        onClick={() => changeCount(item.id, \"minus\")}\r\n                        disabled={item.count < 2}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <output name='count'>{item.count}</output>\r\n                      <button\r\n                        className='options__btn'\r\n                        onClick={() => changeCount(item.id, \"plus\")}\r\n                        disabled={item.count === item.inStock}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <DeleteForeverIcon\r\n                    className='icon-button'\r\n                    onClick={() => deleteGood(item.id)}\r\n                  />\r\n                </CardHorizon>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Basket;\r\n","import \"./shop.scss\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { BasketContext } from \"../store/BasketStore\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { useContext } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Shop = observer(() => {\r\n  const { devices } = useContext(DevicesContext);\r\n  const { basket } = useContext(BasketContext);\r\n  let history = useHistory();\r\n\r\n  const enableInBasket = (idDevice) =>\r\n    basket.allDevices.some((item) => item.id === idDevice);\r\n\r\n  const addToCart = (idDevice) => {\r\n    !enableInBasket(idDevice) && basket.saveInBasket(idDevice);\r\n  };\r\n\r\n  const buyNow = (idDevice) => {\r\n    addToCart(idDevice);\r\n    history.push(\"/basket\");\r\n  };\r\n\r\n  return (\r\n    <section className='shop'>\r\n      <div className='container'>\r\n        <div className='shop__inner'>\r\n          <h2>Магазин</h2>\r\n          <div className='shop__container'>\r\n            <aside className='shop__menu'>\r\n              <div className='filter'>\r\n                <h3>Фильтры</h3>\r\n                <form name='filter' className='filter__form'>\r\n                  <input\r\n                    type='text'\r\n                    name='query'\r\n                    placeholder='Поиск по названию'\r\n                  />\r\n                  <div className='filter__group'>\r\n                    <label htmlFor='inStock'>В наличии</label>\r\n                    <input type='checkbox' id='inStock' />\r\n                  </div>\r\n                  <button type='submit'>Показать</button>\r\n                </form>\r\n              </div>\r\n            </aside>\r\n            <div className='shop__goods'>\r\n              {Object.values(devices.allDevices).map((item, index) => {\r\n                return (\r\n                  <div className='card' key={index}>\r\n                    <div className='card__image'>\r\n                      <img\r\n                        src={process.env.REACT_APP_API_URL + \"/\" + item.img}\r\n                        alt='device'\r\n                      />\r\n                    </div>\r\n                    <div className='card__header'>\r\n                      <h3 className='card__title'>{item.name}</h3>\r\n                    </div>\r\n                    <div className='card__body'>\r\n                      <p>{item.descriptionShort}</p>\r\n                      <p>\r\n                        <Link to={`/device/${item.id}`}>Подробнее</Link>\r\n                      </p>\r\n                      <p>В наличии: {item.inStock} шт.</p>\r\n                      <p> Стоимость: {item.price} руб.</p>\r\n                    </div>\r\n                    <div className='card__footer'>\r\n                      <div className='card__btns'>\r\n                        <button onClick={() => buyNow(item.id)}>\r\n                          Купить сейчас\r\n                        </button>\r\n                        <button\r\n                          onClick={() =>\r\n                            enableInBasket(item.id)\r\n                              ? buyNow(item.id)\r\n                              : addToCart(item.id)\r\n                          }\r\n                        >\r\n                          {enableInBasket(item.id) ? \"Перейти \" : \"Добавить \"} в\r\n                          Корзину\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Shop;\r\n","import { $authHost, $host } from \"./index\";\r\n\r\nexport const fetchAllPki = async () => {\r\n  const res = await $host.get(\"api/pki\");\r\n  return res.data;\r\n};\r\n\r\nexport const deletePki = async (id) => {\r\n  const res = (await $authHost.delete(`api/pki/${id}`)).status;\r\n  return res;\r\n};\r\n\r\nexport const updatePki = async (formData) => {\r\n  const res = await $authHost.post(\"api/pki\", formData);\r\n  return res;\r\n};\r\n","// import { useLocation } from \"react-router\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../../store/store\";\r\nimport { PkiContext } from \"../../store/PkiStore\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { DevicesContext } from \"../../store/DevicesStore\";\r\nimport CardHorizon from \"../../components/CardHorizon/CardHorizon.jsx\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { fetchAllDevices, deleteDevice } from \"../../http/deviceAPI\";\r\nimport { fetchAllPki } from \"../../http/pkiAPI\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Stock = observer(() => {\r\n  const { isOpenModal, openModal, setMessage, dialogResult } =\r\n    useContext(DeviceContext);\r\n  const { devices } = useContext(DevicesContext);\r\n  const { pki } = useContext(PkiContext);\r\n  const [selected, setSelected] = useState(\"\");\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchAllPki().then((data) => {\r\n      const fetchPki = data.reduce((acc, item) => {\r\n        acc[item.name] = item;\r\n        return acc;\r\n      }, {});\r\n      pki.setAllPki(fetchPki);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAllDevices().then((data) => {\r\n      const devs = {};\r\n      data.forEach((device) => {\r\n        devs[device.id] = device;\r\n      });\r\n      devices.setAllDevices(devs);\r\n    });\r\n  }, [isOpenModal]);\r\n\r\n  useEffect(() => {\r\n    if (dialogResult === \"Удалить\") {\r\n      deleteDevice(selected).then((res) => {\r\n        if (res === 200) {\r\n          setMessage({\r\n            title: \"Успешно\",\r\n            text: `Устройство удалено`,\r\n            cancel: \"\",\r\n            ok: \"OK\",\r\n          });\r\n          openModal(\"mess\");\r\n        }\r\n      });\r\n    }\r\n  }, [dialogResult]);\r\n\r\n  const addDevice = () => {\r\n    history.push(\"/lk/addDevice\");\r\n  };\r\n\r\n  const editDevice = (id) => {\r\n    history.push(\"/lk/addDevice/\" + id);\r\n  };\r\n\r\n  const openDialogToDelete = (id, name) => {\r\n    setMessage({\r\n      title: \"Внимание!\",\r\n      text: `Вы действительно хотите удалить ${name} ?`,\r\n      cancel: \"Отмена\",\r\n      ok: \"Удалить\",\r\n    });\r\n    setSelected(id);\r\n    openModal(\"mess\");\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>Устройства</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <div className='stock__devices'>\r\n        {Object.values(devices.allDevices).map((device) => (\r\n          <CardHorizon item={device} key={device.id}>\r\n            <DeleteForeverIcon\r\n              className='icon-button'\r\n              onClick={() => openDialogToDelete(device.id, device.name)}\r\n            />\r\n            <EditIcon\r\n              className='icon-button'\r\n              onClick={() => editDevice(device.id)}\r\n            />\r\n          </CardHorizon>\r\n        ))}\r\n      </div>\r\n      <div className='stock__add'>\r\n        <button className='stock__btn' onClick={addDevice}>\r\n          Добавить устройство\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../../store/store\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { fetchAllPki, deletePki, updatePki } from \"../../http/pkiAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst StockPki = observer(() => {\r\n  const { openModal, setMessage, dialogResult } = useContext(DeviceContext);\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [pkiArray, setPkiArray] = useState([]);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchAllPki().then((data) => {\r\n      data.forEach((item) => (item.disabled = true));\r\n      setPkiArray(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dialogResult === \"Удалить\") {\r\n      deletePki(selected).then((res) => {\r\n        if (res === 200) {\r\n          setMessage({\r\n            title: \"Успешно\",\r\n            text: `Комплектующее удалено`,\r\n            cancel: \"\",\r\n            ok: \"OK\",\r\n          });\r\n          setPkiArray(pkiArray.filter((item) => item.id !== selected));\r\n          openModal(\"mess\");\r\n        }\r\n      });\r\n    }\r\n  }, [dialogResult]);\r\n\r\n  const addPki = () => {\r\n    setPkiArray([\r\n      ...pkiArray,\r\n      { name: \"\", deliver: \"\", value: 0, id: new Date() },\r\n    ]);\r\n  };\r\n\r\n  const editPki = (id) => {\r\n    const editPki = pkiArray.map((item) =>\r\n      item.id === id ? { ...item, disabled: false } : item\r\n    );\r\n    setPkiArray(editPki);\r\n  };\r\n\r\n  const handleSavePki = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const pkiToSave = pkiArray.filter((pki) => pki.name !== \"\");\r\n    let savePki = new FormData();\r\n    savePki.append(\"data\", JSON.stringify(pkiToSave));\r\n    await updatePki(savePki);\r\n    e.target.reset();\r\n    history.push(\"/lk\");\r\n  };\r\n\r\n  const openDialogToDelete = (id, name) => {\r\n    setMessage({\r\n      title: \"Внимание!\",\r\n      text: `Вы действительно хотите удалить ${name} ?`,\r\n      cancel: \"Отмена\",\r\n      ok: \"Удалить\",\r\n    });\r\n    setSelected(id);\r\n    openModal(\"mess\");\r\n  };\r\n\r\n  const changeProps = (key, value, prop_id) => {\r\n    setPkiArray(\r\n      pkiArray.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>ПКИ</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <div className='stock__pki'>\r\n        <form className='table' onSubmit={handleSavePki}>\r\n          <fieldset>\r\n            <legend>Комплектующие</legend>\r\n            <div className='table__head'>\r\n              <p>№</p>\r\n              <p>Наименование</p>\r\n              <p>Срок доставки, дней</p>\r\n              <p>Количество, шт</p>\r\n            </div>\r\n            <ol>\r\n              {pkiArray.map((item) => (\r\n                <li key={item.name + item.id}>\r\n                  <div className='table__row'>\r\n                    <input\r\n                      type='text'\r\n                      name='name'\r\n                      defaultValue={item.name}\r\n                      onBlur={(e) => {\r\n                        const val = e.target.value.trim();\r\n                        e.target.value = val;\r\n                        changeProps(\"name\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <input\r\n                      type='text'\r\n                      name='deliver'\r\n                      defaultValue={item.deliver}\r\n                      onBlur={(e) => {\r\n                        const val = e.target.value.trim();\r\n                        e.target.value = val;\r\n                        changeProps(\"deliver\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <input\r\n                      type='number'\r\n                      name='value'\r\n                      defaultValue={item.value}\r\n                      min='0'\r\n                      onBlur={(e) => {\r\n                        const val = parseInt(e.target.value, 10);\r\n                        e.target.value = val;\r\n                        changeProps(\"value\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <button type='button' onClick={() => editPki(item.id)}>\r\n                      Редактировать\r\n                    </button>\r\n                    <DeleteForeverIcon\r\n                      className='icon-button'\r\n                      onClick={() => openDialogToDelete(item.id, item.name)}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ol>\r\n            <div className='table__add'>\r\n              <button className='stock__btn' type='button' onClick={addPki}>\r\n                Добавить комплектующее\r\n              </button>\r\n            </div>\r\n          </fieldset>\r\n          <div className='table__save'>\r\n            <button className='stock__btn' type='submit'>\r\n              Сохранить\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default StockPki;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\n\r\nconst Graph = () => {\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>Статистика</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <p>Здесь будет статистика</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Graph;\r\n","import \"./deviceInfo.scss\";\r\nimport {\r\n  createDevice,\r\n  fetchOneDevice,\r\n  updateDevice,\r\n} from \"../../http/deviceAPI\";\r\nimport { fetchAllPki } from \"../../http/pkiAPI\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { PkiContext } from \"../../store/PkiStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst DeviceInfo = observer(() => {\r\n  const [device, setDevice] = useState({});\r\n  const [props, setProps] = useState([]);\r\n  const [devicePki, setDevicePki] = useState([]);\r\n  const { id } = useParams();\r\n  const { pki } = useContext(PkiContext);\r\n  const allPki = pki.allPki;\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchOneDevice(id).then((data) => {\r\n        setDevice(data);\r\n        data.props.length && setProps(data.props);\r\n        data.pki.length && setDevicePki(data.pki);\r\n      });\r\n    }\r\n    fetchAllPki().then((data) => {\r\n      const fetchPki = data.reduce((acc, item) => {\r\n        acc[item.name] = item;\r\n        return acc;\r\n      }, {});\r\n      pki.setAllPki(fetchPki);\r\n    });\r\n  }, []);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newDevice = new FormData(e.target);\r\n    props.length && newDevice.append(\"props\", JSON.stringify(props));\r\n    devicePki.length && newDevice.append(\"pki\", JSON.stringify(devicePki));\r\n    try {\r\n      if (id) {\r\n        await updateDevice(id, newDevice);\r\n      } else {\r\n        await createDevice(newDevice);\r\n      }\r\n      // setOpenModal(false);\r\n      e.target.reset();\r\n      history.push(\"/lk/device\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const addProp = () => {\r\n    setProps([...props, { title: \"\", prop: \"\", id: new Date() }]);\r\n  };\r\n\r\n  const deleteProp = (prop_id) => {\r\n    setProps(props.filter((item) => item.id !== prop_id));\r\n  };\r\n\r\n  const changeProps = (key, value, prop_id) => {\r\n    setProps(\r\n      props.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const changePki = (key, value, prop_id) => {\r\n    setDevicePki(\r\n      devicePki.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const addPki = () => {\r\n    setDevicePki([...devicePki, { name: \"\", value: \"\", id: new Date() }]);\r\n  };\r\n\r\n  const deletePki = (prop_id) => {\r\n    setDevicePki(devicePki.filter((item) => item.id !== prop_id));\r\n  };\r\n\r\n  return (\r\n    <div className='info-device'>\r\n      <form\r\n        name='deviceInfo'\r\n        className='info-device__form'\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <fieldset>\r\n          <div className='info-device__group'>\r\n            <label>Наименование:</label>\r\n            <input\r\n              type='text'\r\n              id='name'\r\n              name='name'\r\n              defaultValue={device.name}\r\n            />\r\n          </div>\r\n          <div className='info-device__group'>\r\n            <label>Стоимость:</label>\r\n            <input\r\n              type='number'\r\n              id='price'\r\n              name='price'\r\n              defaultValue={device.price}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Описание</legend>\r\n          <label>Полное:</label>\r\n          <textarea\r\n            type='text'\r\n            rows='4'\r\n            id='descriptionFull'\r\n            name='descriptionFull'\r\n            defaultValue={device.descriptionFull}\r\n          />\r\n\r\n          <label>Краткое:</label>\r\n          <textarea\r\n            type='text'\r\n            rows='2'\r\n            id='descriptionShort'\r\n            name='descriptionShort'\r\n            defaultValue={device.descriptionShort}\r\n          />\r\n        </fieldset>\r\n        <fieldset>\r\n          <label>Изображение:</label>\r\n          <input type='file' id='image' name='image' />\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Характеристики</legend>\r\n          <button type='button' onClick={addProp}>\r\n            Добавить характеристику\r\n          </button>\r\n          {props.map(({ title, prop, id }) => {\r\n            return (\r\n              <div className='propsline' key={id}>\r\n                <div className='propsline__group'>\r\n                  <label>Характеристика:</label>\r\n                  <input\r\n                    type='text'\r\n                    name='title'\r\n                    defaultValue={title}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      changeProps(\"title\", val, id);\r\n                      e.target.value = val;\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className='propsline__group'>\r\n                  <label>Значение:</label>\r\n                  <input\r\n                    type='text'\r\n                    name='prop'\r\n                    defaultValue={prop}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      e.target.value = val;\r\n                      changeProps(\"prop\", val, id);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  className='propsline__btn'\r\n                  onClick={() => deleteProp(id)}\r\n                  type='button'\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Комплектующие</legend>\r\n          <button type='button' onClick={addPki}>\r\n            Добавить компелктующее\r\n          </button>\r\n          {devicePki.map(({ name, value, id }) => {\r\n            return (\r\n              <div className='propsline' key={`${name}${id}`}>\r\n                <div className='propsline__group'>\r\n                  <label>Комплектующее:</label>\r\n                  <select\r\n                    name='pki_name'\r\n                    defaultValue='Выберите пункт меню'\r\n                    onChange={(e) => changePki(\"name\", e.target.value, id)}\r\n                  >\r\n                    {Object.keys(pki.allPki).map((item) => {\r\n                      return (\r\n                        <option value={item} selected={item === name}>\r\n                          {item}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                </div>\r\n                <div className='propsline__group'>\r\n                  <label>Количество:</label>\r\n                  <input\r\n                    type='number'\r\n                    min='1'\r\n                    name='value'\r\n                    defaultValue={value}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      e.target.value = val;\r\n                      changePki(\"value\", val, id);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  className='propsline__btn'\r\n                  onClick={() => deletePki(id)}\r\n                  type='button'\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </fieldset>\r\n        <button type='submit'>Сохранить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default DeviceInfo;\r\n","import \"./lk.scss\";\r\nimport DeviceInfo from \"../../components/DeviceInfo/deviceInfo.jsx\";\r\nimport { Route, Switch, Link, useRouteMatch } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst DeviceAdd = () => {\r\n  let match = useRouteMatch(\"/lk/addDevice/:id\");\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <h4 className='stock__title'>\r\n        {match ? \"Редактирование устройства\" : \"Новое устройство\"}\r\n      </h4>\r\n      <Link to='/lk/device'>Назад</Link>\r\n      <Switch>\r\n        <Route path='/lk/addDevice' exact>\r\n          <DeviceInfo />\r\n        </Route>\r\n        <Route path='/lk/addDevice/:id'>\r\n          <DeviceInfo />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeviceAdd;\r\n","import Lk from \"./pages/lk/lk.jsx\";\r\nimport Main from \"./pages/main\";\r\nimport Devices from \"./pages/devices\";\r\nimport Device from \"./pages/device\";\r\nimport Basket from \"./pages/basket\";\r\nimport Shop from \"./pages/shop\";\r\nimport Stock from \"./pages/lk/stock.jsx\";\r\nimport StockPki from \"./pages/lk/StockPki.jsx\";\r\nimport Graph from \"./pages/lk/graph.jsx\";\r\nimport DeviceAdd from \"./pages/lk/device.jsx\";\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: \"/\",\r\n    component: Main,\r\n  },\r\n  {\r\n    path: \"/device\",\r\n    component: Devices,\r\n  },\r\n  {\r\n    path: \"/device/:id\",\r\n    component: Device,\r\n  },\r\n  {\r\n    path: \"/shop\",\r\n    component: Shop,\r\n  },\r\n  {\r\n    path: \"/basket\",\r\n    component: Basket,\r\n  },\r\n];\r\nexport const myRoom = [\r\n  {\r\n    path: \"/lk\",\r\n    component: Lk,\r\n    routes: [\r\n      {\r\n        path: \"/lk/device\",\r\n        component: Stock,\r\n      },\r\n      {\r\n        path: \"/lk/addDevice\",\r\n        component: DeviceAdd,\r\n      },\r\n      {\r\n        path: \"lk/addDevice/:id\",\r\n        component: DeviceAdd,\r\n      },\r\n      {\r\n        path: \"/lk/pki\",\r\n        component: StockPki,\r\n      },\r\n      {\r\n        path: \"/lk/graph\",\r\n        component: Graph,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { useContext } from \"react\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./user.scss\";\r\n\r\nfunction User() {\r\n  const { user } = useContext(UserContext);\r\n  const isAdmin = user.isAdmin;\r\n\r\n  const logOut = () => {\r\n    user.setUser({});\r\n    user.setIsAuth(false);\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n  return (\r\n    <div className='user'>\r\n      <p className='user__name'>{user.user.email}</p>\r\n      {isAdmin && (\r\n        <Link className='user__link' to='/lk'>\r\n          ЛК\r\n        </Link>\r\n      )}\r\n      <button className='user__logout' onClick={logOut}>\r\n        Выйти\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import \"./nav.scss\";\r\nimport { useContext } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport { BasketContext } from \"../../store/BasketStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Nav = observer(() => {\r\n  let { pathname } = useLocation();\r\n  const { basket } = useContext(BasketContext);\r\n  return (\r\n    <ul className='nav'>\r\n      <li className={pathname === \"/\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/'>Главная</Link>\r\n      </li>\r\n      <li className={pathname === \"/device\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/device'>Устройства</Link>\r\n      </li>\r\n      <li className={pathname === \"/shop\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/shop'>Магазин</Link>\r\n      </li>\r\n      <li className={pathname === \"/basket\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/basket'>\r\n          <ShoppingCartIcon />\r\n          {!!basket.allDevices.length && basket.allDevices.length}\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n});\r\n\r\nexport default Nav;\r\n","import \"./header.scss\";\r\nimport User from \"../user/user\";\r\nimport Nav from \"../nav/nav\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\n// import enginIcon from \"../../static/v-engine.svg\";\r\n\r\nconst Header = observer(({ openLogin }) => {\r\n  const { user } = useContext(UserContext);\r\n  const isLogin = user.isAuth;\r\n  return (\r\n    <header className='header'>\r\n      <div className='container'>\r\n        <div className='header__inner'>\r\n          <div className='header__logo'>\r\n            <Logo />\r\n          </div>\r\n          <div className='header__nav'>\r\n            <Nav />\r\n          </div>\r\n          <div className='header__user'>\r\n            {isLogin && <User />}\r\n            {!isLogin && (\r\n              <button\r\n                className='header__login'\r\n                onClick={() => openLogin(\"login\")}\r\n              >\r\n                Войти\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n});\r\nexport default Header;\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className='logo'>\r\n      {/* <img src={enginIcon} alt='Engine' /> */}\r\n      <svg\r\n        id='Layer_1'\r\n        enableBackground='new 0 0 511.982 511.982'\r\n        height='40'\r\n        viewBox='0 0 511.982 511.982'\r\n        width='40'\r\n        xmlns='http://www.w3.org/2000/svg'\r\n      >\r\n        <g>\r\n          <g>\r\n            <path\r\n              d='m493.606 82.526-53.556-28.539c-6.543-3.485-11.585-5.919-19.482-8.793-7.906-2.877-13.331-4.253-20.577-5.786l-59.369-12.564c-16.638-3.521-31.895 4.011-37.102 18.316l-10.26 28.192c-1.889 5.189.787 10.928 5.977 12.816l5.593 2.036-4.929 19.352c-12.997-7.295-27.974-11.463-43.909-11.463s-30.913 4.168-43.91 11.464l-4.929-19.352 5.592-2.035c2.492-.906 4.522-2.767 5.643-5.17 1.121-2.404 1.241-5.154.334-7.646l-10.261-28.194c-5.207-14.306-20.464-21.839-37.102-18.316l-59.368 12.564c-7.247 1.533-12.672 2.91-20.577 5.786-7.897 2.875-12.939 5.309-19.482 8.794l-53.555 28.538c-15.01 7.997-21.855 23.574-16.648 37.878l10.261 28.191c1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l5.592-2.035 8.744 18.16c-4.55 2.211-6.784 7.55-5.015 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l.893-.325 8.744 18.159c-4.55 2.211-6.783 7.55-5.015 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.606l.893-.325 8.743 18.159c-4.55 2.212-6.783 7.55-5.014 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.29-.195 3.419-.605l.893-.325 8.743 18.159c-4.55 2.212-6.783 7.551-5.014 12.409 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l.893-.325 14.469 30.049c-1.836 3.272-2.859 6.996-2.863 10.853v18.756l-24.198 15.85c-6.332 4.142-10.117 11.127-10.124 18.695v30.889c0 12.325 10.028 22.353 22.354 22.353h43.789l17.26 29.896c3.982 6.927 11.387 11.234 19.334 11.241h109.502c30.756 0 57.72-16.515 72.512-41.138h49.996c12.326 0 22.354-10.027 22.354-22.353v-30.9c-.007-7.559-3.792-14.544-10.118-18.682l-24.204-15.854v-18.767c-.004-3.852-1.028-7.575-2.862-10.844l14.468-30.047.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.768-4.858-.464-10.196-5.014-12.408l8.743-18.159.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.768-4.858-.464-10.196-5.014-12.408l8.743-18.159.893.325c1.129.411 2.284.606 3.419.606 4.084 0 7.92-2.522 9.398-6.583 1.769-4.858-.465-10.197-5.015-12.408l8.744-18.16.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.769-4.858-.465-10.197-5.015-12.408l8.744-18.16 5.592 2.035c1.107.402 2.265.603 3.42.603 1.446 0 2.89-.313 4.226-.937 2.404-1.121 4.264-3.151 5.171-5.644l10.261-28.191c5.211-14.302-1.636-29.878-16.644-37.875zm-167.615 103.566c0 38.598-31.402 70-70 70s-70-31.402-70-70 31.402-70 70-70 70 31.402 70 70zm-243.538-63.142c-1.889-5.19-7.629-7.864-12.817-5.978l-42.273 15.386-6.84-18.794c-2.005-5.509 2.201-10.693 7.259-13.389l53.554-28.535c5.994-3.193 10.054-5.152 16.918-7.65 6.872-2.501 11.24-3.609 17.878-5.015l59.368-12.564c5.605-1.185 12.161.082 14.167 5.59l6.841 18.795-42.279 15.388c-5.189 1.89-7.866 7.628-5.977 12.817 1.889 5.19 7.625 7.867 12.817 5.977l27.196-9.899 4.961 19.478-135.22 49.216-8.72-18.11 27.19-9.896c5.19-1.889 7.865-7.627 5.977-12.817zm95.426 18.476c-4.385 7.639-7.678 15.978-9.674 24.805l-92.759 33.762-8.72-18.11zm-11.859 46.883c.17 6.977 1.136 13.759 2.813 20.259l-75.949 27.643-8.719-18.109zm9.952 38.946c3.174 6.146 7.038 11.879 11.485 17.102l-77.133 28.074-8.719-18.109zm28.127 32.33c3.7 2.62 7.608 4.965 11.69 7.012-2.774.594-5.411 1.707-7.795 3.318l-77.372 44.671-11.577-24.043zm85.581 206.413c-35.585 0-64.536-28.951-64.536-64.536s28.951-64.536 64.536-64.536 64.536 28.951 64.536 64.536-28.951 64.536-64.536 64.536zm-84.536-64.536c0 .582.032 1.157.044 1.736-2.1.477-4.252.728-6.395.728-15.908 0-28.85-12.942-28.85-28.85s12.942-28.851 28.85-28.851c7.805 0 15.116 3.116 20.472 8.528-8.913 13.393-14.121 29.452-14.121 46.709zm208.327-11.8c.993.649 1.071 1.67 1.071 1.957v30.889c0 1.297-1.056 2.353-2.354 2.353h-41.292c2.146-7.436 3.32-15.281 3.32-23.398 0-46.613-37.923-84.536-84.536-84.536-22.151 0-42.328 8.575-57.417 22.566-8.947-8.441-20.827-13.266-33.47-13.266-26.936 0-48.85 21.914-48.85 48.851 0 26.936 21.914 48.85 48.85 48.85 3.061 0 6.131-.313 9.151-.891 4.492 17.005 14.166 31.919 27.219 42.963h-54.977c-.808-.001-1.576-.464-2.013-1.225l-20.156-34.913c-1.787-3.094-5.088-5-8.661-5h-49.562c-1.298 0-2.354-1.056-2.354-2.353v-30.879c0-.297.079-1.317 1.077-1.971l28.724-18.814c2.821-1.848 4.521-4.993 4.521-8.365v-24.149c0-.635.318-1.494 1.225-2.016l85.357-49.281c.273-.157.539-.328.795-.511.4-.284.856-.429 1.357-.429h70.988c.5 0 .957.145 1.357.429.257.183.522.354.795.511l85.375 49.292c.889.511 1.207 1.37 1.208 1.994v24.16c0 3.372 1.7 6.518 4.521 8.365zm-32.11-75.076-77.372-44.672c-2.383-1.611-5.021-2.724-7.794-3.318 4.082-2.047 7.989-4.391 11.689-7.011l85.054 30.957zm20.298-42.155-77.133-28.074c4.447-5.223 8.311-10.956 11.485-17.102l74.367 27.067zm17.439-36.22-75.948-27.643c1.677-6.5 2.644-13.283 2.813-20.259l81.855 29.793zm17.439-36.218-92.759-33.762c-1.996-8.827-5.289-17.167-9.674-24.805l111.153 40.457zm17.44-36.219-135.221-49.218 4.961-19.478 138.98 50.585zm37.483-50.209-6.84 18.794-169.145-61.564 6.84-18.795c2.005-5.508 8.561-6.774 14.167-5.59l59.369 12.564c6.637 1.404 11.005 2.513 17.878 5.015 6.864 2.498 10.924 4.457 16.917 7.649l53.555 28.537c5.058 2.696 9.264 7.881 7.259 13.39z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m255.992 226.092c22.056 0 40-17.944 40-40s-17.944-40-40-40-40 17.944-40 40 17.944 40 40 40zm0-60c11.028 0 20 8.972 20 20s-8.972 20-20 20-20-8.972-20-20 8.971-20 20-20z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m303.779 391.462h-28.2c-5.523 0-10 4.478-10 10s4.477 10 10 10h28.2c5.523 0 10-4.478 10-10s-4.477-10-10-10z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m115.356 120.974c5.523 0 10-4.478 10-10s-4.477-10-10-10h-.007c-5.523 0-9.996 4.478-9.996 10s4.48 10 10.003 10z'\r\n              fill='#faed26'\r\n            />\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import \"./modal.scss\";\r\n\r\nexport default function Modal({ children, isOpen, setOpenModal }) {\r\n  return (\r\n    <div className={isOpen === true ? \"modal modal_active\" : \"modal\"}>\r\n      <div className='modal__container'>\r\n        {children}\r\n        <button\r\n          className='modal__close'\r\n          type='button'\r\n          onClick={() => setOpenModal(false)}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { $host, $authHost } from \"./index\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const registration = async (email, password) => {\r\n  const { data } = await $host.post(\"api/user/registration\", {\r\n    email,\r\n    password,\r\n  });\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  const { data } = await $host.post(\"api/user/login\", {\r\n    email,\r\n    password,\r\n  });\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n\r\nexport const check = async () => {\r\n  const { data } = await $authHost.get(\"api/user/auth\");\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n","import { useState, useContext } from \"react\";\r\nimport { login, registration } from \"../../http/userAPI\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport \"./login.scss\";\r\n\r\nfunction Login({ setOpenModal }) {\r\n  let [auth, setAuth] = useState(\"login\");\r\n  let [email, setEmail] = useState(\"\");\r\n  let [pass, setPass] = useState(\"\");\r\n  let [isValidPass, setValid] = useState(false);\r\n  const { user } = useContext(UserContext);\r\n\r\n  const changeForm = (e) => {\r\n    e.preventDefault();\r\n    auth === \"login\" ? setAuth(\"reg\") : setAuth(\"login\");\r\n  };\r\n\r\n  const signIn = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let res;\r\n\r\n      if (auth === \"login\") {\r\n        res = await login(email, pass);\r\n      } else {\r\n        if (isValidPass) res = await registration(email, pass);\r\n      }\r\n\r\n      if (res) {\r\n        e.target.reset();\r\n        user.setUser(res);\r\n        user.setIsAuth(true);\r\n        setOpenModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message || error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <h3>{auth === \"login\" ? \"Войти\" : \"Зарегистрироваться\"}</h3>\r\n      <form id='auth' name='auth' className='auth' onSubmit={signIn}>\r\n        <fieldset>\r\n          <label htmlFor='email'>Email:</label>\r\n          <input\r\n            type='email'\r\n            id='email'\r\n            required\r\n            name='email'\r\n            onBlur={(e) => setEmail(e.target.value)}\r\n          />\r\n        </fieldset>\r\n        <fieldset>\r\n          <label htmlFor='pass'>Password:</label>\r\n          <input\r\n            type='password'\r\n            id='pass'\r\n            required\r\n            name='password'\r\n            onBlur={(e) => setPass(e.target.value)}\r\n          />\r\n        </fieldset>\r\n        {auth === \"reg\" && (\r\n          <fieldset>\r\n            <label htmlFor='confirmPass'>Confirm password:</label>\r\n            <input\r\n              type='password'\r\n              id='confirmPass'\r\n              name='confirmPass'\r\n              onBlur={(e) => setValid(pass === e.target.value)}\r\n            />\r\n            {!isValidPass && pass && (\r\n              <p className='auth__helptext'>Пароль не совпадает</p>\r\n            )}\r\n          </fieldset>\r\n        )}\r\n\r\n        <div className='auth__footer'>\r\n          <>\r\n            {auth === \"login\" ? \"Нет аккаунта?\" : \"Уже есть аккаунт?\"}\r\n            <a href='#noscroll' onClick={changeForm}>\r\n              {auth === \"login\" ? \"Зарегистрируйся\" : \"Войди\"}\r\n            </a>\r\n          </>\r\n          <button type='submit'>\r\n            {auth === \"login\" ? \"Войти\" : \"Зарегистрироваться\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import \"./message.scss\";\r\n\r\nfunction Message({ title, text, ok = \"\", cancel = \"Cancel\", closeModal }) {\r\n  return (\r\n    <div className='message'>\r\n      <div className='message__header'>\r\n        <h4>{title}</h4>\r\n      </div>\r\n      <div className='message__body'>\r\n        <p>{text}</p>\r\n      </div>\r\n\r\n      {ok && (\r\n        <div className='message__footer'>\r\n          <button type='button' onClick={() => closeModal(ok)}>\r\n            {ok}\r\n          </button>\r\n          {cancel && (\r\n            <button type='button' onClick={() => closeModal(cancel)}>\r\n              {cancel}\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import \"./App.scss\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport { myRoom, publicRoutes } from \"./routes\";\nimport Header from \"./components/header/header\";\nimport { DeviceContext, devices, GoodsContext } from \"./store/store\";\nimport { UserContext } from \"./store/UserStore\";\nimport { DevicesContext } from \"./store/DevicesStore\";\nimport Modal from \"./components/modal/modal.jsx\";\nimport Login from \"./components/Login/Login.jsx\";\nimport Message from \"./components/Message/Message.jsx\";\nimport DeviceInfo from \"./components/DeviceInfo/deviceInfo\";\nimport { observer } from \"mobx-react-lite\";\nimport { check } from \"./http/userAPI\";\nimport { fetchAllDevices } from \"./http/deviceAPI\";\nimport BasketStore, { BasketContext } from \"./store/BasketStore\";\n\nconst App = observer(() => {\n  const { user } = useContext(UserContext);\n  const { devices } = useContext(DevicesContext);\n\n  useEffect(() => {\n    check().then((data) => {\n      user.setUser(data);\n      user.setIsAuth(true);\n    });\n    fetchAllDevices().then((data) => {\n      const devs = {};\n      data.forEach((device) => {\n        devs[device.id] = device;\n      });\n      devices.setAllDevices(devs);\n    });\n  }, []);\n\n  let [isOpenModal, setOpenModal] = useState(false);\n  let [typeOfModal, setTypeOfModal] = useState(\"\");\n  let [message, setMessage] = useState({});\n  const [dialogResult, setDialogResult] = useState(\"\");\n\n  const admin = user.isAdmin;\n  const openModal = (type) => {\n    setTypeOfModal(type);\n    setOpenModal(true);\n  };\n\n  const closeModal = (value) => {\n    setOpenModal(false);\n    setDialogResult(value);\n    setMessage(message);\n  };\n\n  return (\n    <div className='App'>\n      <BasketContext.Provider value={{ basket: new BasketStore() }}>\n        <Header openLogin={openModal} />\n        <DeviceContext.Provider\n          value={{\n            isOpenModal,\n            openModal,\n            setMessage,\n            dialogResult,\n            setOpenModal,\n          }}\n        >\n          <main>\n            <Switch>\n              {publicRoutes.map((item, index) => (\n                <Route\n                  key={index}\n                  path={item.path}\n                  component={item.component}\n                  exact\n                />\n              ))}\n              {admin &&\n                myRoom.map((item, index) => (\n                  <Route\n                    key={index + 100}\n                    path={item.path}\n                    component={item.component}\n                  />\n                ))}\n              <Redirect to='/' />\n            </Switch>\n          </main>\n        </DeviceContext.Provider>\n      </BasketContext.Provider>\n      <Modal isOpen={isOpenModal} setOpenModal={setOpenModal}>\n        {typeOfModal === \"login\" && <Login setOpenModal={setOpenModal} />}\n        {typeOfModal === \"mess\" && (\n          <Message\n            title={message.title}\n            text={message.text}\n            ok={message.ok}\n            cancel={message.cancel}\n            closeModal={closeModal}\n          />\n        )}\n        {typeOfModal === \"device\" && <DeviceInfo setOpenModal={setOpenModal} />}\n      </Modal>\n    </div>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport UserStore, { UserContext } from \"./store/UserStore\";\nimport DevicesStore, { DevicesContext } from \"./store/DevicesStore\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <UserContext.Provider value={{ user: new UserStore() }}>\n        <DevicesContext.Provider value={{ devices: new DevicesStore() }}>\n          <App />\n        </DevicesContext.Provider>\n      </UserContext.Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}