{"version":3,"sources":["store/PkiStore.js","pages/lk/lk.jsx","pages/main.jsx","store/DevicesStore.js","pages/devices.jsx","store/BasketStore.js","http/index.js","http/deviceAPI.js","pages/device.jsx","store/store.js","components/CardHorizon/CardHorizon.jsx","store/UserStore.js","http/buyAPI.js","pages/basket.jsx","pages/shop.jsx","http/pkiAPI.js","pages/lk/stock.jsx","pages/lk/StockPki.jsx","pages/lk/graph.jsx","http/typeAPI.js","components/DeviceInfo/deviceInfo.jsx","pages/lk/device.jsx","pages/lk/type.jsx","routes.js","components/user/user.js","components/nav/nav.js","components/header/header.js","components/modal/modal.jsx","http/userAPI.js","components/Login/Login.jsx","components/Message/Message.jsx","components/DeviceCard/DeviceCard.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["PkiStore","this","_pki","makeAutoObservable","pki","id","PkiContext","createContext","Lk","path","useRouteMatch","className","Provider","value","exact","MainLk","myRoom","routes","map","item","component","url","to","Main","DeviceStore","_devices","_types","_showDevice","devices","data","types","Object","entries","device","DevicesContext","Devices","observer","useContext","values","allDevices","index","name","img","descriptionShort","src","process","alt","BasketStore","idDevice","count","filter","BasketContext","$host","axios","create","baseURL","$authHost","interceptors","request","use","config","headers","authorization","localStorage","getItem","createDevice","formData","a","post","res","updateDevice","put","fetchAllDevices","get","fetchOneDevice","deleteDevice","delete","status","Device","basket","useParams","useState","props","setDevice","history","useHistory","useEffect","then","enableInBasket","some","addToCart","saveInBasket","slides","photos","forEach","push","length","width","height","images","showBullets","showNavs","navSize","navMargin","style","margin","descriptionFull","title","prop","getType","typeId","inStock","price","type","onClick","DeviceContext","CardHorizon","children","UserStore","_isAuth","_user","val","userData","role","UserContext","buyDevices","Basket","user","openModal","goods","totalCost","reduce","acc","totalGoods","changeCount","func","indexDevice","findIndex","countDec","countInc","deleteAllGoods","clearBasket","buy","toBuy","user_id","info","getDevice","console","log","isAuth","htmlFor","disabled","deleteFromBasket","Shop","devicesInShop","setDevicesInShop","filterString","setFilterString","filterInStock","setFilterInStock","filterTypes","setFilterTypes","buyNow","onSubmit","event","preventDefault","filterResult","toLowerCase","includes","placeholder","defaultValue","onBlur","e","target","checked","onChange","allTypes","changeFilterType","fetchAllPki","deletePki","updatePki","Stock","isOpenModal","setMessage","dialogResult","selected","setSelected","fetchPki","setAllPki","devs","setAllDevices","text","cancel","ok","StockPki","pkiArray","setPkiArray","handleSavePki","pkiToSave","savePki","FormData","append","JSON","stringify","reset","changeProps","key","prop_id","trim","deliver","min","parseInt","free","editPki","Date","Graph","stat","setStat","changeUID","setChangeUID","device_id","device_info","updatedAt","split","setShowDevice","device_uid","ready","fetchAllTypes","deleteType","updateType","DeviceInfo","setProps","devicePki","setDevicePki","allPki","setAllTypes","inStockMax","setInStockMax","morePhoto","setMorePhoto","computedInStock","handleSubmit","newDevice","changePki","arr","devPki","pkiValue","Math","floor","rows","multiple","keys","max","Infinity","DeviceAdd","match","Type","typeArray","setTypeArray","handleSaveType","typeToSave","saveType","editType","publicRoutes","User","isAdmin","email","setUser","setIsAuth","removeItem","Nav","pathname","useLocation","Header","openLogin","isLogin","Logo","enableBackground","viewBox","xmlns","d","fill","Modal","isOpen","setOpenModal","registration","password","token","setItem","jwt_decode","login","check","Login","auth","setAuth","setEmail","pass","setPass","isValidPass","setValid","signIn","message","required","href","Message","closeModal","DeviceCard","display","justifyContent","marginLeft","elem","App","setTypes","typeOfModal","setTypeOfModal","setDialogResult","admin","showDevice","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","DevicesStore","document","getElementById"],"mappings":"0lBAGqBA,E,WACnB,aAAe,oBACbC,KAAKC,KAAO,GACZC,YAAmBF,M,6CAGrB,SAAUG,GACRH,KAAKC,KAAL,2BAAiBD,KAAKC,MAASE,K,kBAGjC,WACE,OAAOH,KAAKC,O,uBAGd,SAAUG,GACR,OAAOJ,KAAKC,KAAKG,O,KAIRC,EAAaC,0B,OCUXC,MA3Bf,WACE,IAAMC,EAASC,cAATD,KACN,OACE,yBAASE,UAAU,UAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,iBAAd,6FACA,qBAAKA,UAAU,iBAAf,SACE,cAACL,EAAWM,SAAZ,CAAqBC,MAAO,CAAET,IAAK,IAAIJ,GAAvC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOc,OAAK,EAACL,KAAMA,EAAnB,SACE,cAACM,EAAD,MAEDC,GAAO,GAAGC,OAAOC,KAAI,SAACC,GAAD,OACpB,cAAC,IAAD,CACEV,KAAMU,EAAKV,KACXW,UAAWD,EAAKC,WACXD,EAAKV,sBAa5B,SAASM,IACP,IAAMM,EAAQX,cAARW,IACN,OACE,qCACE,mKACA,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKD,EAAL,WAAR,4EAEF,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKD,EAAL,QAAR,kCAEF,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKD,EAAL,UAAR,4EAEF,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKD,EAAL,SAAR,wC,MCxBKE,MAvBf,WACE,OACE,yBAASZ,UAAU,OAAnB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,cAAf,UACE,6CACA,qIACA,sBAAKA,UAAU,oBAAf,UACE,kZAIA,sBAAKA,UAAU,cAAf,UACE,cAAC,IAAD,CAAMW,GAAG,QAAT,kDACA,cAAC,IAAD,CAAMA,GAAG,UAAT,wFCdOE,E,WACnB,aAAe,oBACbvB,KAAKwB,SAAW,GAChBxB,KAAKyB,OAAS,GACdzB,KAAK0B,YAAc,GACnBxB,YAAmBF,M,iDAGrB,SAAc2B,GACZ3B,KAAKwB,SAAWG,I,uBAGlB,SAAUvB,EAAIwB,GACZ5B,KAAKwB,SAASpB,GAAMwB,I,sBAGtB,WACE,OAAO5B,KAAKwB,W,uBAGd,SAAUpB,GACR,OAAOJ,KAAKwB,SAASpB,K,sBAGvB,SAASyB,GACP7B,KAAKyB,OAASI,I,qBAGhB,SAAQzB,GACN,OAAOJ,KAAKyB,OAAOrB,K,oBAErB,WACE,OAAO0B,OAAOC,QAAQ/B,KAAKyB,U,2BAG7B,SAAcO,GACZhC,KAAK0B,YAAcM,I,sBAGrB,WACE,OAAOhC,KAAK0B,gB,KAIHO,EAAiB3B,0B,OCTf4B,G,MAhCCC,aAAS,WACvB,IAAQR,EAAYS,qBAAWH,GAAvBN,QACR,OACE,yBAASjB,UAAU,UAAnB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,8FACCoB,OAAOO,OAAOV,EAAQW,YAAYrB,KACjC,WAAsCsB,GAAW,IAA9CC,EAA6C,EAA7CA,KAAMpC,EAAuC,EAAvCA,GAAIqC,EAAmC,EAAnCA,IAAKC,EAA8B,EAA9BA,iBAChB,OACE,sBAAKhC,UAAU,gBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBACEiC,IAAKC,uCAAsCH,EAC3CI,IAAI,aAGR,sBAAKnC,UAAU,uBAAf,UACE,6BAAK8B,IACL,4BAAIE,IACJ,cAAC,IAAD,CAAMrB,GAAE,kBAAajB,GAArB,yEAVgCmC,iB,gBCb/BO,E,WACnB,aAAe,oBACb9C,KAAKwB,SAAW,GAChBtB,YAAmBF,M,gDAGrB,SAAa+C,GACX/C,KAAKwB,SAAL,sBAAoBxB,KAAKwB,UAAzB,CAAmC,CAAEpB,GAAI2C,EAAUC,MAAO,O,8BAG5D,SAAiBD,GACf/C,KAAKwB,SAAWxB,KAAKwB,SAASyB,QAAO,SAAC/B,GAAD,OAAUA,EAAKd,KAAO2C,O,yBAG7D,WACE/C,KAAKwB,SAAW,K,sBAGlB,SAASe,GACPvC,KAAKwB,SAASe,GAAOS,U,sBAGvB,SAAST,GACPvC,KAAKwB,SAASe,GAAOS,U,sBAGvB,WACE,OAAOhD,KAAKwB,a,KAIH0B,EAAgB5C,0B,wCChCvB6C,EAAQC,IAAMC,OAAO,CACzBC,QAASV,wCAGLW,EAAYH,IAAMC,OAAO,CAC7BC,QAASV,wCAQXW,EAAUC,aAAaC,QAAQC,KALN,SAACC,GAExB,OADAA,EAAOC,QAAQC,cAAf,iBAAyCC,aAAaC,QAAQ,UACvDJ,KCVF,IAAMK,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACRX,EAAUY,KAAK,aAAcF,EAAU,CACvDL,QAAS,CACP,eAAgB,yBAHM,cACpBQ,EADoB,yBAMnBA,EAAIxC,MANe,2CAAH,sDASZyC,EAAY,uCAAG,WAAOjE,EAAI6D,GAAX,eAAAC,EAAA,sEACRX,EAAUe,IAAV,qBAA4BlE,GAAM6D,EAAU,CAC5DL,QAAS,CACP,eAAgB,yBAHM,cACpBQ,EADoB,yBAMnBA,EAAIxC,MANe,2CAAH,wDASZ2C,EAAe,uCAAG,4BAAAL,EAAA,sEACXf,EAAMqB,IAAI,cADC,cACvBJ,EADuB,yBAEtBA,EAAIxC,MAFkB,2CAAH,qDAKf6C,EAAc,uCAAG,WAAOrE,GAAP,eAAA8D,EAAA,sEACVf,EAAMqB,IAAN,qBAAwBpE,IADd,cACtBgE,EADsB,yBAErBA,EAAIxC,MAFiB,2CAAH,sDAKd8C,EAAY,uCAAG,WAAOtE,GAAP,eAAA8D,EAAA,sEACRX,EAAUoB,OAAV,qBAA+BvE,IADvB,cACpBgE,EADoB,yBAEnBA,EAAIQ,QAFe,2CAAH,sD,iBCyEVC,EA9FA1C,aAAS,WACtB,IAAQR,EAAYS,qBAAWH,GAAvBN,QACAmD,EAAW1C,qBAAWc,GAAtB4B,OACA1E,EAAO2E,cAAP3E,GACR,EAA4B4E,mBAAS,CAAEC,MAAO,KAA9C,mBAAOjD,EAAP,KAAekD,EAAf,KACIC,EAAUC,cAEdC,qBAAU,WACRZ,EAAerE,GAAIkF,MAAK,SAAC1D,GACvBsD,EAAUtD,GACVD,EAAQuD,UAAUtD,EAAKxB,GAAIwB,QAE5B,IAEH,IAAM2D,EAAiB,SAACxC,GAAD,OACrB+B,EAAOxC,WAAWkD,MAAK,SAACtE,GAAD,OAAUA,EAAKd,KAAO2C,MAEzC0C,EAAY,SAAC1C,IAChBwC,EAAexC,IAAa+B,EAAOY,aAAa3C,IAQ7C4C,EAAS,CAAC,CAAEvE,IAAKwB,uCAAsCZ,EAAOS,MASpE,OAPAT,EAAO4D,QACL5D,EAAO4D,OAAOC,SAAQ,SAACpD,GAAD,OACpBkD,EAAOG,KAAK,CACV1E,IAAI,GAAD,OAAKwB,sCAAL,YAAsCZ,EAAOQ,KAA7C,YAAqDC,QAK5D,yBAAS/B,UAAU,SAAnB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,6BAAKsB,EAAOQ,OAEXR,EAAO4D,QAAU5D,EAAO4D,OAAOG,OAC9B,cAAC,IAAD,CACEC,MAAO,IACPC,OAAQ,IACRC,OAAQP,EACRQ,aAAa,EACbC,UAAU,EACVC,QAAS,GACTC,UAAW,GACXC,MAAO,CAAEC,OAAQ,YAGnB,qBACE7D,IAAKC,uCAAsCZ,EAAOS,IAClDI,IAAI,WAGR,4BAAIb,EAAOyE,kBACX,wBAAO/F,UAAU,gBAAjB,UACE,gCACE,+BACE,sHACA,uFAGJ,gCACGoB,OAAOO,OAAOL,EAAOiD,OAAOhE,KAAI,SAACC,EAAMqB,GACtC,OACE,+BACE,6BAAKrB,EAAKwF,QACV,6BAAKxF,EAAKyF,SAFHpE,WAQjB,4GAAmBZ,EAAQiF,QAAQ5E,EAAO6E,WAC1C,qFAAgB7E,EAAO8E,QAAvB,oBACA,0FAAgB9E,EAAO+E,MAAvB,0BACA,sBAAKrG,UAAU,gBAAf,UACE,wBAAQsG,KAAK,SAASC,QAAS,kBA3DvCxB,EA2DoDrF,QA1DpD+E,EAAQW,KAAK,YA0DL,uFAGA,yBAAQkB,KAAK,SAASC,QAAS,kBAAMxB,EAAUrF,IAA/C,UACGmF,EAAenF,GAAM,8CAAa,oDADrC,qEChBC8G,G,MAAgB5G,2B,uBCrDd6G,MAtBf,YAA0C,IAAnBC,EAAkB,EAAlBA,SAAUlG,EAAQ,EAARA,KAC/B,OACE,sBAAKR,UAAU,SAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBACEiC,IAAKC,uCAAsC1B,EAAKuB,IAChDI,IAAI,aAGR,qBAAKnC,UAAU,iBAAf,SACE,oBAAIA,UAAU,gBAAd,SAA+BQ,EAAKsB,SAEtC,sBAAK9B,UAAU,eAAf,UACE,4BAAIQ,EAAKwB,mBACT,oFAAexB,EAAK4F,QAApB,oBACA,0FAAgB5F,EAAK6F,MAArB,6BAEF,qBAAKrG,UAAU,iBAAf,SAAiC0G,QChBlBC,E,WACnB,aAAe,oBACbrH,KAAKsH,SAAU,EACftH,KAAKuH,MAAQ,GACbrH,YAAmBF,M,6CAGrB,SAAUwH,GACRxH,KAAKsH,QAAUE,I,qBAGjB,SAAQC,GACNzH,KAAKuH,MAAL,2BAAkBvH,KAAKuH,OAAUE,K,kBAGnC,WACE,OAAOzH,KAAKsH,U,gBAGd,WACE,OAAOtH,KAAKuH,Q,mBAGd,WACE,OAAOvH,KAAKuH,MAAMG,MAA4B,UAApB1H,KAAKuH,MAAMG,S,KAI5BC,EAAcrH,0BC7BdsH,EAAU,uCAAG,WAAO9C,GAAP,eAAAZ,EAAA,sEACNX,EAAUY,KAAK,iBAAkBW,GAD3B,cAClBV,EADkB,yBAEjBA,GAFiB,2CAAH,sDAKVG,EAAe,uCAAG,4BAAAL,EAAA,sEACXX,EAAUiB,IAAI,kBADH,cACvBJ,EADuB,yBAEtBA,EAAIxC,MAFkB,2CAAH,qDCkHbiG,EA7GA1F,aAAS,WACtB,IAAQ2C,EAAW1C,qBAAWc,GAAtB4B,OACAnD,EAAYS,qBAAWH,GAAvBN,QACAmG,EAAS1F,qBAAWuF,GAApBG,KACAC,EAAc3F,qBAAW8E,GAAzBa,UAEFC,EAAQlD,EAAOxC,WAAWyD,OAC1BkC,EAAYnD,EAAOxC,WAAW4F,QAClC,SAACC,EAAKjH,GAAN,OAAeA,EAAK8B,MAAQrB,EAAQW,WAAWpB,EAAKd,IAAI2G,MAAQoB,IAChE,GAEIC,EAAatD,EAAOxC,WAAW4F,QACnC,SAACC,EAAD,UAAoBA,EAApB,EAAQnF,QACR,GAEIqF,EAAc,SAACtF,EAAUuF,GAC7B,IAAMC,EAAczD,EAAOxC,WAAWkG,WACpC,SAACtH,GAAD,OAAUA,EAAKd,KAAO2C,KAGxB,OAAQuF,GACN,IAAK,QACHxD,EAAO2D,SAASF,GAChB,MACF,IAAK,OACHzD,EAAO4D,SAASH,KAQhBI,EAAiB,WACrB7D,EAAO8D,eAGHC,EAAG,uCAAG,8BAAA3E,EAAA,6DACJ4E,EAAQ,CAAEC,QAASjB,EAAKA,KAAK1H,GAAIuB,QAASmD,EAAOxC,aACjDX,QAAQkE,SAAQ,SAAC3E,GAAD,OAAWA,EAAK8H,KAAOrH,EAAQsH,UAAU/H,EAAKd,OAF1D,SAGQwH,EAAWkB,GAHnB,OAIS,OADb1E,EAHI,QAIFQ,QAAgB+D,IACxBO,QAAQC,IAAI,6CAAW/E,GALb,2CAAH,qDAQT,OACE,yBAAS1D,UAAU,SAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,4EAEEsH,EAKA,sBAAKtH,UAAU,oBAAf,UACE,wBAAOA,UAAU,eAAjB,UACE,sBAAKA,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,gEACA,oBAAGA,UAAU,aAAb,UAA2B0H,EAA3B,iDACA,oBAAG1H,UAAU,aAAb,0DAAqCuH,EAArC,2CACCH,EAAKsB,OACJ,wBAAQnC,QAAS4B,EAAjB,8DAEA,wBAAQ5B,QAAS,kBAAMc,EAAU,UAAjC,+CAIJ,wBAAQrH,UAAU,cAAcuG,QAAS0B,EAAzC,4GAIF,qBAAKjI,UAAU,gBAAf,SACGoE,EAAOxC,WAAWrB,KAAI,SAACC,EAAMqB,GAAP,OACrB,eAAC,EAAD,CAAarB,KAAMS,EAAQsH,UAAU/H,EAAKd,IAA1C,UACE,sBAAKM,UAAU,UAAf,UACE,uBAAO2I,QAAQ,QAAf,0EACA,sBAAK3I,UAAU,mBAAf,UACE,wBACEA,UAAU,eACVuG,QAAS,kBAAMoB,EAAYnH,EAAKd,GAAI,UACpCkJ,SAAUpI,EAAK8B,MAAQ,EAHzB,eAOA,wBAAQR,KAAK,QAAb,SAAsBtB,EAAK8B,QAC3B,wBACEtC,UAAU,eACVuG,QAAS,kBAAMoB,EAAYnH,EAAKd,GAAI,SACpCkJ,SAAUpI,EAAK8B,QAAU9B,EAAK4F,QAHhC,qBASJ,cAAC,IAAD,CACEpG,UAAU,cACVuG,QAAS,kBApEPlE,EAoEwB7B,EAAKd,QAnE/C0E,EAAOyE,iBAAiBxG,GADP,IAACA,OA6C8CR,WAvB1D,2KAC8B,cAAC,IAAD,CAAMlB,GAAG,QAAT,kGC8FzBmI,G,MAvJFrH,aAAS,WACpB,IAAQR,EAAYS,qBAAWH,GAAvBN,QACAmD,EAAW1C,qBAAWc,GAAtB4B,OACR,EAA0CE,mBACxClD,OAAOO,OAAOV,EAAQW,aADxB,mBAAOmH,EAAP,KAAsBC,EAAtB,KAGIvE,EAAUC,cAEd,EAAsCJ,mBAAS,IAA/C,mBAAK2E,EAAL,KAAmBC,EAAnB,KACA,EAAwC5E,oBAAS,GAAjD,mBAAK6E,EAAL,KAAoBC,EAApB,KACA,EAAoC9E,mBAAS,IAA7C,mBAAK+E,EAAL,KAAkBC,EAAlB,KAEMzE,EAAiB,SAACxC,GAAD,OACrB+B,EAAOxC,WAAWkD,MAAK,SAACtE,GAAD,OAAUA,EAAKd,KAAO2C,MAEzC0C,EAAY,SAAC1C,IAChBwC,EAAexC,IAAa+B,EAAOY,aAAa3C,IAG7CkH,EAAS,SAAClH,GACd0C,EAAU1C,GACVoC,EAAQW,KAAK,YA8Bf,OACE,yBAASpF,UAAU,OAAnB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,cAAf,UACE,4EACA,sBAAKA,UAAU,kBAAf,UACE,uBAAOA,UAAU,aAAjB,SACE,sBAAKA,UAAU,SAAf,UACE,4EACA,uBACE8B,KAAK,SACL9B,UAAU,eACVwJ,SAvCK,SAACC,GACpBA,EAAMC,iBACN,IAAIC,EAAevI,OAAOO,OAAOV,EAAQW,YAErCqH,IACFU,EAAeA,EAAapH,QAAO,SAACjB,GAAD,OACjCA,EAAOQ,KAAK8H,cAAcC,SAASZ,EAAaW,mBAGhDT,IACFQ,EAAeA,EAAapH,QAAO,SAACjB,GAAD,OAAYA,EAAO8E,QAAU,MAC9DiD,EAAYhE,SACdsE,EAAeA,EAAapH,QAAO,SAACjB,GAAD,OACjC+H,EAAYQ,SAAZ,UAAwBvI,EAAO6E,aAGnC6C,EAAiBW,IAoBL,UAKE,uBACErD,KAAK,OACLxE,KAAK,QACLgI,YAAY,+FACZC,aAAcd,EACde,OAAQ,SAACC,GAAD,OAAOf,EAAgBe,EAAEC,OAAOhK,UAE1C,sBAAKF,UAAU,gBAAf,UACE,uBACEsG,KAAK,WACL5G,GAAG,UACHoC,KAAK,UACLqI,QAAShB,EACTiB,SAAU,kBAAMhB,GAAkBD,MAEpC,uBAAOR,QAAQ,UAAf,kEAEF,uEACC1H,EAAQoJ,SAAS9J,KAAI,SAAC+F,GACrB,OACE,sBAAKtG,UAAU,gBAAf,UACE,uBACEsG,KAAK,WACL5G,GAAE,eAAU4G,EAAK,IACjBxE,KAAMwE,EAAK,GACX6D,QAASd,EAAYQ,SAASvD,EAAK,IACnC8D,SAAU,kBAhDT,SAAC9D,GACpB+C,EAAYQ,SAASvD,GACvBgD,EAAeD,EAAY9G,QAAO,SAAC/B,GAAD,OAAUA,IAAS8F,MAErDgD,EAAe,GAAD,mBAAKD,GAAL,CAAkB/C,KA4CIgE,CAAiBhE,EAAK,OAExC,uBAAOqC,QAAO,eAAUrC,EAAK,IAA7B,SAAoCA,EAAK,WAI/C,wBAAQA,KAAK,SAAb,sEAIN,qBAAKtG,UAAU,cAAf,SACG+I,GACCA,EAAcxI,KAAI,SAACC,EAAMqB,GACvB,OACE,sBAAK7B,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBACEiC,IAAKC,uCAAsC1B,EAAKuB,IAChDI,IAAI,aAGR,qBAAKnC,UAAU,eAAf,SACE,oBAAIA,UAAU,cAAd,SAA6BQ,EAAKsB,SAEpC,sBAAK9B,UAAU,aAAf,UACE,4BAAIQ,EAAKwB,mBACT,4BACE,cAAC,IAAD,CAAMrB,GAAE,kBAAaH,EAAKd,IAA1B,sEAEF,oFAAec,EAAK4F,QAApB,oBACA,0FAAgB5F,EAAK6F,MAArB,6BAEF,qBAAKrG,UAAU,eAAf,SACE,sBAAKA,UAAU,aAAf,UACE,wBAAQuG,QAAS,kBAAMgD,EAAO/I,EAAKd,KAAnC,uFAGA,yBACE6G,QAAS,kBACP1B,EAAerE,EAAKd,IAChB6J,EAAO/I,EAAKd,IACZqF,EAAUvE,EAAKd,KAJvB,UAOGmF,EAAerE,EAAKd,IAAM,8CAAa,oDAAa,IAPvD,8DAvBqBmC,sBC9GlC0I,EAAW,uCAAG,4BAAA/G,EAAA,sEACPf,EAAMqB,IAAI,WADH,cACnBJ,EADmB,yBAElBA,EAAIxC,MAFc,2CAAH,qDAKXsJ,EAAS,uCAAG,WAAO9K,GAAP,eAAA8D,EAAA,sEACJX,EAAUoB,OAAV,kBAA4BvE,IADxB,cACjBgE,EADiB,OAC+BQ,OAD/B,kBAEhBR,GAFgB,2CAAH,sDAKT+G,GAAS,uCAAG,WAAOlH,GAAP,eAAAC,EAAA,sEACLX,EAAUY,KAAK,UAAWF,GADrB,cACjBG,EADiB,yBAEhBA,GAFgB,2CAAH,sD,oBC4FPgH,GA3FDjJ,aAAS,WACrB,MACEC,qBAAW8E,GADLmE,EAAR,EAAQA,YAAatD,EAArB,EAAqBA,UAAWuD,EAAhC,EAAgCA,WAAYC,EAA5C,EAA4CA,aAEpC5J,EAAYS,qBAAWH,GAAvBN,QACAxB,EAAQiC,qBAAW/B,GAAnBF,IACR,EAAgC6E,mBAAS,IAAzC,mBAAOwG,EAAP,KAAiBC,EAAjB,KACItG,EAAUC,cAEdC,qBAAU,WACR4F,IAAc3F,MAAK,SAAC1D,GAClB,IAAM8J,EAAW9J,EAAKsG,QAAO,SAACC,EAAKjH,GAEjC,OADAiH,EAAIjH,EAAKsB,MAAQtB,EACViH,IACN,IACHhI,EAAIwL,UAAUD,QAEf,IAEHrG,qBAAU,YACPgG,GACC9G,IAAkBe,MAAK,SAAC1D,GACtB,IAAMgK,EAAO,GACbhK,EAAKiE,SAAQ,SAAC7D,GACZ4J,EAAK5J,EAAO5B,IAAM4B,KAEpBL,EAAQkK,cAAcD,QAEzB,CAACP,IAEJhG,qBAAU,WACa,+CAAjBkG,GACF7G,EAAa8G,GAAUlG,MAAK,SAAClB,GACf,MAARA,IACFkH,EAAW,CACT5E,MAAO,6CACPoF,KAAK,0GACLC,OAAQ,GACRC,GAAI,OAENjE,EAAU,cAIf,CAACwD,IAqBJ,OACE,sBAAK7K,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,0EACA,cAAC,IAAD,CAAMW,GAAG,MAAT,4CACA,qBAAKX,UAAU,iBAAf,SACGoB,OAAOO,OAAOV,EAAQW,YAAYrB,KAAI,SAACe,GAAD,OACrC,eAAC,EAAD,CAAad,KAAMc,EAAnB,UACE,cAAC,IAAD,CACEtB,UAAU,cACVuG,QAAS,kBApBO7G,EAoBkB4B,EAAO5B,GApBrBoC,EAoByBR,EAAOQ,KAnB9D8I,EAAW,CACT5E,MAAO,oDACPoF,KAAK,+KAAD,OAAqCtJ,EAArC,MACJuJ,OAAQ,uCACRC,GAAI,+CAENP,EAAYrL,QACZ2H,EAAU,QARe,IAAC3H,EAAIoC,KAsBtB,cAAC,KAAD,CACE9B,UAAU,cACVuG,QAAS,kBA5BD7G,EA4BkB4B,EAAO5B,QA3B3C+E,EAAQW,KAAK,iBAAmB1F,GADf,IAACA,OAqBoB4B,EAAO5B,SAY3C,qBAAKM,UAAU,aAAf,SACE,wBAAQA,UAAU,aAAauG,QAtCnB,WAChB9B,EAAQW,KAAK,kBAqCT,mI,SC2EOmG,GApKE9J,aAAS,WACxB,MAAgDC,qBAAW8E,GAAnDa,EAAR,EAAQA,UAAWuD,EAAnB,EAAmBA,WAAYC,EAA/B,EAA+BA,aAC/B,EAAgCvG,mBAAS,IAAzC,mBAAOwG,EAAP,KAAiBC,EAAjB,KACA,EAAgCzG,mBAAS,IAAzC,mBAAOkH,EAAP,KAAiBC,EAAjB,KACIhH,EAAUC,cAEdC,qBAAU,WACR4F,IAAc3F,MAAK,SAAC1D,GAClBA,EAAKiE,SAAQ,SAAC3E,GAAD,OAAWA,EAAKoI,UAAW,KACxC6C,EAAYvK,QAEb,IAEHyD,qBAAU,WACa,+CAAjBkG,GACFL,EAAUM,GAAUlG,MAAK,SAAClB,GACZ,MAARA,IACFkH,EAAW,CACT5E,MAAO,6CACPoF,KAAK,4HACLC,OAAQ,GACRC,GAAI,OAENG,EAAYD,EAASjJ,QAAO,SAAC/B,GAAD,OAAUA,EAAKd,KAAOoL,MAClDzD,EAAU,cAIf,CAACwD,IAEJ,IAcMa,EAAa,uCAAG,WAAOzB,GAAP,iBAAAzG,EAAA,6DACpByG,EAAEP,iBAEIiC,EAAYH,EACfjJ,QAAO,SAAC9C,GAAD,MAAsB,KAAbA,EAAIqC,QACpBS,QAAO,SAAC9C,GAAD,OAA0B,IAAjBA,EAAImJ,aACnBgD,EAAU,IAAIC,UACVC,OAAO,OAAQC,KAAKC,UAAUL,IAPlB,SAQdlB,GAAUmB,GARI,OASpB3B,EAAEC,OAAO+B,QACTxH,EAAQW,KAAK,OAVO,2CAAH,sDAwBb8G,EAAc,SAACC,EAAKjM,EAAOkM,GAC/BX,EACED,EAASjL,KAAI,SAACC,GAAD,OACXA,EAAKd,KAAO0M,EAAZ,2BAA2B5L,GAA3B,mBAAkC2L,EAAMjM,IAAUM,OAKxD,OACE,sBAAKR,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,gCACA,cAAC,IAAD,CAAMW,GAAG,MAAT,4CACA,qBAAKX,UAAU,aAAf,SACE,uBAAMA,UAAU,QAAQwJ,SAAUkC,EAAlC,UACE,qCACE,oHACA,sBAAK1L,UAAU,cAAf,UACE,uCACA,yGACA,oIACA,0IACA,qKAEF,6BACGwL,EAASjL,KAAI,SAACC,GAAD,OACZ,6BACE,sBAAKR,UAAU,aAAf,UACE,uBACEsG,KAAK,OACLxE,KAAK,OACLiI,aAAcvJ,EAAKsB,KACnBkI,OAAQ,SAACC,GACP,IAAMnD,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BpC,EAAEC,OAAOhK,MAAQ4G,EACjBoF,EAAY,OAAQpF,EAAKtG,EAAKd,KAEhCkJ,SAAUpI,EAAKoI,WAEjB,uBACEtC,KAAK,OACLxE,KAAK,UACLiI,aAAcvJ,EAAK8L,QACnBtC,OAAQ,SAACC,GACP,IAAMnD,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BpC,EAAEC,OAAOhK,MAAQ4G,EACjBoF,EAAY,UAAWpF,EAAKtG,EAAKd,KAEnCkJ,SAAUpI,EAAKoI,WAEjB,uBACEtC,KAAK,SACLxE,KAAK,QACLiI,aAAcvJ,EAAKN,MACnBqM,IAAI,IACJvC,OAAQ,SAACC,GACP,IAAMnD,EAAM0F,SAASvC,EAAEC,OAAOhK,MAAO,IACrC+J,EAAEC,OAAOhK,MAAQ4G,EACjBoF,EAAY,QAASpF,EAAKtG,EAAKd,KAEjCkJ,SAAUpI,EAAKoI,WAEjB,uBACEtC,KAAK,SACLxE,KAAK,OACLiI,aAAcvJ,EAAKiM,KACnBF,IAAI,IACJ3D,UAAQ,IAEV,wBAAQtC,KAAK,SAASC,QAAS,kBAnGjC,SAAC7G,GACf,IAAMgN,EAAUlB,EAASjL,KAAI,SAACC,GAAD,OAC3BA,EAAKd,KAAOA,EAAZ,2BAAsBc,GAAtB,IAA4BoI,UAAU,IAAUpI,KAElDiL,EAAYiB,GA+FyCA,CAAQlM,EAAKd,KAAlD,4FAGA,cAAC,IAAD,CACEM,UAAU,cACVuG,QAAS,kBApFD7G,EAoF0Bc,EAAKd,GApF3BoC,EAoF+BtB,EAAKsB,KAnFlE8I,EAAW,CACT5E,MAAO,oDACPoF,KAAK,+KAAD,OAAqCtJ,EAArC,MACJuJ,OAAQ,uCACRC,GAAI,+CAENP,EAAYrL,QACZ2H,EAAU,QARe,IAAC3H,EAAIoC,SAoCTtB,EAAKsB,KAAOtB,EAAKd,SAsD9B,qBAAKM,UAAU,aAAf,SACE,wBAAQA,UAAU,aAAasG,KAAK,SAASC,QAtH1C,WACbkF,EAAY,GAAD,mBACND,GADM,CAET,CAAE1J,KAAM,GAAIwK,QAAS,GAAIpM,MAAO,EAAGR,GAAI,IAAIiN,KAAQ/D,UAAU,OAmHrD,kJAKJ,qBAAK5I,UAAU,cAAf,SACE,wBAAQA,UAAU,aAAasG,KAAK,SAApC,iFCpEGsG,GAvFD,WACZ,IAAQ3L,EAAYS,qBAAWH,GAAvBN,QACAoG,EAAc3F,qBAAW8E,GAAzBa,UAER,EAAwB/C,mBAAS,IAAjC,mBAAOuI,EAAP,KAAaC,EAAb,KACA,EAAgCxI,mBAAS,IAAzC,mBAAKyI,EAAL,KAAgBC,EAAhB,KAEArI,qBAAU,WACRd,IAAkBe,MAAK,SAAClB,GAAD,OAASoJ,EAAQpJ,QACvC,IAwBH,OACE,sBAAK1D,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,0EACA,cAAC,IAAD,CAAMW,GAAG,MAAT,4CACA,wBAAOX,UAAU,mBAAjB,UACE,gCACE,+BACE,yCACA,2CACA,6CACA,4CACA,4CAGJ,gCACG6M,EAAKxH,QACJwH,EAAKtM,KAAI,SAACC,EAAMqB,GACd,OACE,+BACE,6BAAKrB,EAAK6H,UACV,6BAAK7H,EAAKyM,YACV,8BA3CI3E,EA2CY9H,EAAK0M,YAzCjC,sBAAKlN,UAAU,kBAAf,UACE,6BAAKsI,EAAKxG,OACV,mFAAcwG,EAAK6E,UAAUC,MAAM,KAAK,MACxC,4BAAI9E,EAAKtG,mBACT,mBACEuE,QAAS,WACPc,EAAU,UACVpG,EAAQoM,cAAc/E,IAH1B,0EAsCU,6BACE,gCACE,uBACEpI,MAAOM,EAAK8M,WACZ1E,UAAWmE,EAAUlL,KAEvB,yBACE0E,QAAS,kBACNwG,EAAUlL,QAjCjC2G,QAAQC,IAAI,WAkCc,WACEsE,EAAUlL,IAAS,EACnBmL,EAAaD,KALvB,UAUGA,EAAUlL,GAAS,yDAAc,mDAVpC,eAcJ,6BACE,uBAAOyE,KAAK,WAAW6D,QAAS3J,EAAK+M,YAzBhC1L,GAxCJ,IAACyG,cCfTkF,I,MAAa,uCAAG,4BAAAhK,EAAA,sEACTf,EAAMqB,IAAI,YADD,cACrBJ,EADqB,yBAEpBA,EAAIxC,MAFgB,2CAAH,sDAKbuM,GAAU,uCAAG,WAAO/N,GAAP,eAAA8D,EAAA,sEACLX,EAAUoB,OAAV,mBAA6BvE,IADxB,cAClBgE,EADkB,OAC+BQ,OAD/B,kBAEjBR,GAFiB,2CAAH,sDAKVgK,GAAU,uCAAG,WAAOnK,GAAP,eAAAC,EAAA,sEACNX,EAAUY,KAAK,WAAYF,GADrB,cAClBG,EADkB,yBAEjBA,GAFiB,2CAAH,sDCgTRiK,GA/SIlM,aAAS,WAC1B,MAA4B6C,mBAAS,IAArC,mBAAOhD,EAAP,KAAekD,EAAf,KACA,EAA0BF,mBAAS,IAAnC,mBAAOC,EAAP,KAAcqJ,EAAd,KACA,EAAkCtJ,mBAAS,IAA3C,mBAAOuJ,EAAP,KAAkBC,EAAlB,KACQpO,EAAO2E,cAAP3E,GACR,EAA4B4E,mBAAS,IAArC,mBAAOyJ,EAAP,KAAe9C,EAAf,KACA,EAAgC3G,mBAAS,IAAzC,mBAAO+F,EAAP,KAAiB2D,EAAjB,KACA,EAAkC1J,mBAAS,GAA3C,mBAAK2J,EAAL,KAAiBC,EAAjB,KACA,EAAkC5J,oBAAS,GAA3C,mBAAO6J,EAAP,KAAkBC,EAAlB,KAEAzJ,qBAAU,WACJjF,GACFqE,EAAerE,GAAIkF,MAAK,SAAC1D,GACvBsD,EAAUtD,GACVA,EAAKqD,MAAMc,QAAUuI,EAAS1M,EAAKqD,OACnCrD,EAAKzB,IAAI4F,QAAUyI,EAAa5M,EAAKzB,QAGzC8K,IAAc3F,MAAK,SAAC1D,GAClB,IAAM8J,EAAW9J,EAAKsG,QAAO,SAACC,EAAKjH,GAEjC,OADAiH,EAAIjH,EAAKsB,MAAQtB,EACViH,IACN,IACHwD,EAAUD,MAEZwC,KAAgB5I,MAAK,SAAC1D,GACpB8M,EAAY9M,QAEb,IAEHyD,qBAAU,WACR0J,MACC,CAACR,EAAWE,IAEf,IAAItJ,EAAUC,cAER4J,EAAY,uCAAG,WAAOrE,GAAP,eAAAzG,EAAA,yDACnByG,EAAEP,iBACI6E,EAAY,IAAI1C,SAAS5B,EAAEC,QACjC3F,EAAMc,QAAUkJ,EAAUzC,OAAO,QAASC,KAAKC,UAAUzH,IACzDsJ,EAAUxI,QAAUkJ,EAAUzC,OAAO,MAAOC,KAAKC,UAAU6B,IAJxC,UAMbnO,EANa,iCAOTiE,EAAajE,EAAI6O,GAPR,gDASTjL,EAAaiL,GATJ,QAYjBtE,EAAEC,OAAO+B,QACTxH,EAAQW,KAAK,cAbI,kDAejBoD,QAAQC,IAAR,MAfiB,0DAAH,sDA2BZyD,EAAc,SAACC,EAAKjM,EAAOkM,GAC/BwB,EACErJ,EAAMhE,KAAI,SAACC,GAAD,OACRA,EAAKd,KAAO0M,EAAZ,2BAA2B5L,GAA3B,mBAAkC2L,EAAMjM,IAAUM,OAKlDgO,EAAY,SAACrC,EAAKjM,EAAOkM,GAC7B0B,EACED,EAAUtN,KAAI,SAACC,GAAD,OACZA,EAAKd,KAAO0M,EAAZ,2BAA2B5L,GAA3B,mBAAkC2L,EAAMjM,IAAUM,OAgBlD6N,EAAkB,WACtB,GAAIR,EAAUxI,OAAQ,CACpB,IAAMoJ,EAAMZ,EAAUtN,KAAI,SAACmO,GACzB,IAAMC,EAAWZ,EAAOW,EAAO5M,MAAQiM,EAAOW,EAAO5M,MAAM2K,KAAO,EAClE,OAAOmC,KAAKC,MAAMF,EAAWD,EAAOxO,UAEtCgO,EAAcU,KAAKrC,IAAL,MAAAqC,KAAI,YAAQH,UAE1BP,EAAc,IAIlB,OACE,qBAAKlO,UAAU,cAAf,SACE,uBACE8B,KAAK,aACL9B,UAAU,oBACVwJ,SAAU8E,EAHZ,UAKE,qCACE,sBAAKtO,UAAU,qBAAf,UACE,8GACA,uBACEsG,KAAK,OACL5G,GAAG,OACHoC,KAAK,OACLiI,aAAczI,EAAOQ,UAGzB,sBAAK9B,UAAU,qBAAf,UACE,4FACA,uBACEsG,KAAK,SACL5G,GAAG,QACHoC,KAAK,QACLiI,aAAczI,EAAO+E,cAI3B,qCACE,sFACA,0EACA,0BACEC,KAAK,OACLwI,KAAK,IACLpP,GAAG,kBACHoC,KAAK,kBACLiI,aAAczI,EAAOyE,kBAGvB,gFACA,0BACEO,KAAK,OACLwI,KAAK,IACLpP,GAAG,mBACHoC,KAAK,mBACLiI,aAAczI,EAAOU,sBAGzB,qCACE,wGACA,uBAAOsE,KAAK,OAAO5G,GAAG,QAAQoC,KAAK,UAClCqM,GACC,uBAAO7H,KAAK,OAAO5G,GAAG,SAASoC,KAAK,SAASiN,UAAQ,IAEvD,qBAAK/O,UAAU,YAAf,SACE,yBAAQsG,KAAK,SAASC,QAAS,kBAAM6H,GAAcD,IAAnD,UACGA,EAAY,uCAAW,uCAD1B,gCAD8BzO,MAMlC,qCACE,0HACA,wBAAQ4G,KAAK,SAASC,QA5Gd,WACdqH,EAAS,GAAD,mBAAKrJ,GAAL,CAAY,CAAEyB,MAAO,GAAIC,KAAM,GAAIvG,GAAI,IAAIiN,UA2G7C,mJAGCpI,EAAMhE,KAAI,YAA0B,IAAvByF,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,KAAMvG,EAAS,EAATA,GACzB,OACE,sBAAKM,UAAU,YAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,0HACA,uBACEsG,KAAK,OACLxE,KAAK,QACLiI,aAAc/D,EACdgE,OAAQ,SAACC,GACP,IAAMnD,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BH,EAAY,QAASpF,EAAKpH,GAC1BuK,EAAEC,OAAOhK,MAAQ4G,QAIvB,sBAAK9G,UAAU,mBAAf,UACE,sFACA,uBACEsG,KAAK,OACLxE,KAAK,OACLiI,aAAc9D,EACd+D,OAAQ,SAACC,GACP,IAAMnD,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BpC,EAAEC,OAAOhK,MAAQ4G,EACjBoF,EAAY,OAAQpF,EAAKpH,SAI/B,wBACEM,UAAU,iBACVuG,QAAS,kBA1IL6F,EA0IsB1M,OAzIxCkO,EAASrJ,EAAMhC,QAAO,SAAC/B,GAAD,OAAUA,EAAKd,KAAO0M,MAD3B,IAACA,GA2IJ9F,KAAK,SAHP,0DA3B8B5G,SAsCtC,qCACE,oHACA,wBAAQ4G,KAAK,SAASC,QAjIf,WACbuH,EAAa,GAAD,mBACPD,GADO,CAEV,CAAE/L,KAAMV,OAAO4N,KAAKjB,GAAQ,GAAI7N,MAAO,IAAKR,GAAI,IAAIiN,UA8HhD,6IAGCkB,EAAUtN,KAAI,YAA0B,IAAvBuB,EAAsB,EAAtBA,KAAM5B,EAAgB,EAAhBA,MAAOR,EAAS,EAATA,GAC7B,OACE,sBAAKM,UAAU,YAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,oHACA,wBACE8B,KAAK,WACLsI,SAAU,SAACH,GAAD,OAAOuE,EAAU,OAAQvE,EAAEC,OAAOhK,MAAOR,IAFrD,SAIG0B,OAAOO,OAAOoM,GAAQxN,KAAI,SAACC,GAC1B,OACE,wBACEN,MAAOM,EAAKsB,KACZgJ,SAAUtK,EAAKsB,OAASA,EAF1B,SAKGtB,EAAKsB,MAFDtB,EAAKsB,KAAOtB,EAAKd,YAQhC,sBAAKM,UAAU,mBAAf,UACE,kGACA,uBACEsG,KAAK,SACLiG,IAAI,IACJzK,KAAK,QACLiI,aAAc7J,EACd8J,OAAQ,SAACC,GACP,IAAMnD,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BpC,EAAEC,OAAOhK,MAAQ4G,EACjB0H,EAAU,QAAS1H,EAAKpH,SAI9B,wBACEM,UAAU,iBACVuG,QAAS,kBAnKN6F,EAmKsB1M,OAlKvCoO,EAAaD,EAAUtL,QAAO,SAAC/B,GAAD,OAAUA,EAAKd,KAAO0M,MADpC,IAACA,GAoKH9F,KAAK,SAHP,0DAlCF,UAAmCxE,GAAnC,OAA0CpC,UA6ChD,qCACE,wDACA,qBAAKM,UAAU,YAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,wBAAQ8B,KAAK,SAAb,SACGuI,EAAShF,QACRgF,EAAS9J,KAAI,SAACC,GACZ,OACE,wBACEN,MAAOM,EAAKd,GACZoL,SAAUtK,EAAKd,KAAO4B,EAAO6E,OAF/B,SAKG3F,EAAKsB,MAFDtB,EAAKsB,KAAOtB,EAAKd,gBAUtC,qCACE,sBAAKM,UAAU,qBAAf,UACE,uFACA,uBACEsG,KAAK,SACL5G,GAAG,UACHoC,KAAK,UACLiI,aAAczI,EAAO8E,QACrB6I,IAAK3N,EAAO8E,QAAU6H,EAAa3M,EAAO8E,QAAU6H,EACpD1B,IAAI,SAGR,qBAAKvM,UAAU,qBAAf,SACE,6EACYiO,IAAeiB,IAAW,iFAAkBjB,UAI5D,wBAAQ3H,KAAK,SAAb,4EC7RO6I,GArBG,WAChB,IAAIC,EAAQrP,YAAc,qBAE1B,OACE,sBAAKC,UAAU,UAAf,UACE,oBAAIA,UAAU,eAAd,SACGoP,EAAQ,oJAA8B,gGAEzC,cAAC,IAAD,CAAMzO,GAAG,aAAT,4CACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOb,KAAK,gBAAgBK,OAAK,EAAjC,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOL,KAAK,oBAAZ,SACE,cAAC,GAAD,aCXJuP,GAAO5N,aAAS,WACpB,MAAgDC,qBAAW8E,GAAnDa,EAAR,EAAQA,UAAWuD,EAAnB,EAAmBA,WAAYC,EAA/B,EAA+BA,aAC/B,EAAgCvG,mBAAS,IAAzC,mBAAOwG,EAAP,KAAiBC,EAAjB,KACA,EAAkCzG,mBAAS,IAA3C,mBAAOgL,EAAP,KAAkBC,EAAlB,KACI9K,EAAUC,cAEdC,qBAAU,WACR6I,KAAgB5I,MAAK,SAAC1D,GACpBA,EAAKiE,SAAQ,SAAC3E,GAAD,OAAWA,EAAKoI,UAAW,KACxC2G,EAAarO,QAEd,IAEHyD,qBAAU,WACa,+CAAjBkG,GACF4C,GAAW3C,GAAUlG,MAAK,SAAClB,GACb,MAARA,IACFkH,EAAW,CACT5E,MAAO,6CACPoF,KAAK,0DACLC,OAAQ,GACRC,GAAI,OAENiE,EAAaD,EAAU/M,QAAO,SAAC/B,GAAD,OAAUA,EAAKd,KAAOoL,MACpDzD,EAAU,cAIf,CAACwD,IAEJ,IAWM2E,EAAc,uCAAG,WAAOvF,GAAP,iBAAAzG,EAAA,6DACrByG,EAAEP,iBAEI+F,EAAaH,EAChB/M,QAAO,SAAC+D,GAAD,MAAwB,KAAdA,EAAKxE,QACtBS,QAAO,SAAC+D,GAAD,OAA4B,IAAlBA,EAAKsC,aACrB8G,EAAW,IAAI7D,UACVC,OAAO,OAAQC,KAAKC,UAAUyD,IAPlB,SAQf/B,GAAWgC,GARI,OASrBzF,EAAEC,OAAO+B,QACTxH,EAAQW,KAAK,OAVQ,2CAAH,sDAgCpB,OACE,sBAAKpF,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,qEACA,cAAC,IAAD,CAAMW,GAAG,MAAT,4CACA,qBAAKX,UAAU,aAAf,SACE,uBAAMA,UAAU,QAAQwJ,SAAUgG,EAAlC,UACE,qCACE,0EACA,6BACGF,EAAU/O,KAAI,SAACC,GAAD,OACb,6BACE,sBAAKR,UAAU,aAAf,UACE,uBACEsG,KAAK,OACLxE,KAAK,OACLiI,aAAcvJ,EAAKsB,KACnBkI,OAAQ,SAACC,GACP,IAzBDkC,EAAKjM,EAAOkM,EAyBLtF,EAAMmD,EAAEC,OAAOhK,MAAMmM,OAC3BpC,EAAEC,OAAOhK,MAAQ4G,EA1BlBqF,EA2Ba,OA3BRjM,EA2BgB4G,EA3BTsF,EA2Bc5L,EAAKd,GA1BlD6P,EACED,EAAU/O,KAAI,SAACC,GAAD,OACZA,EAAKd,KAAO0M,EAAZ,2BAA2B5L,GAA3B,mBAAkC2L,EAAMjM,IAAUM,OA0BpCoI,SAAUpI,EAAKoI,WAGjB,wBAAQtC,KAAK,SAASC,QAAS,kBA/DhC,SAAC7G,GAChB,IAAMiQ,EAAWL,EAAU/O,KAAI,SAACC,GAAD,OAC7BA,EAAKd,KAAOA,EAAZ,2BAAsBc,GAAtB,IAA4BoI,UAAU,IAAUpI,KAElD+O,EAAaI,GA2DwCA,CAASnP,EAAKd,KAAnD,4FAGA,cAAC,IAAD,CACEM,UAAU,cACVuG,QAAS,kBAhDD7G,EAgD0Bc,EAAKd,GAhD3BoC,EAgD+BtB,EAAKsB,KA/ClE8I,EAAW,CACT5E,MAAO,oDACPoF,KAAK,+KAAD,OAAqCtJ,EAArC,MACJuJ,OAAQ,uCACRC,GAAI,+CAENP,EAAYrL,QACZ2H,EAAU,QARe,IAAC3H,EAAIoC,SA6BTtB,EAAKsB,KAAOtB,EAAKd,SAyB9B,qBAAKM,UAAU,aAAf,SACE,wBAAQA,UAAU,aAAasG,KAAK,SAASC,QA/EzC,WACdgJ,EAAa,GAAD,mBAAKD,GAAL,CAAgB,CAAExN,KAAM,GAAIpC,GAAI,IAAIiN,KAAQ/D,UAAU,OA8ExD,wGAKJ,qBAAK5I,UAAU,cAAf,SACE,wBAAQA,UAAU,aAAasG,KAAK,SAApC,iFC9GCsJ,GAAe,CAC1B,CACE9P,KAAM,IACNW,UAAWG,GAEb,CACEd,KAAM,UACNW,UAAWe,GAEb,CACE1B,KAAM,cACNW,UAAW0D,GAEb,CACErE,KAAM,QACNW,UAAWqI,GAEb,CACEhJ,KAAM,UACNW,UAAW0G,IAGF9G,GAAS,CACpB,CACEP,KAAM,MACNW,UAAWZ,EACXS,OAAQ,CACN,CACER,KAAM,aACNW,UAAWiK,IAEb,CACE5K,KAAM,gBACNW,UAAW0O,IAEb,CACErP,KAAM,mBACNW,UAAW0O,IAEb,CACErP,KAAM,UACNW,UAAW8K,IAEb,CACEzL,KAAM,YACNW,UAAWmM,IAEb,CACE9M,KAAM,WACNW,UDuEO4O,O,YEvGAQ,OAxBf,WACE,IAAQzI,EAAS1F,qBAAWuF,GAApBG,KACF0I,EAAU1I,EAAK0I,QAOrB,OACE,sBAAK9P,UAAU,OAAf,UACE,mBAAGA,UAAU,aAAb,SAA2BoH,EAAKA,KAAK2I,QACpCD,GACC,cAAC,IAAD,CAAM9P,UAAU,aAAaW,GAAG,MAAhC,0BAIF,wBAAQX,UAAU,eAAeuG,QAbtB,WACba,EAAK4I,QAAQ,IACb5I,EAAK6I,WAAU,GACf7M,aAAa8M,WAAW,UAUtB,gD,4BCSSC,GAxBH1O,aAAS,WACnB,IAAM2O,EAAaC,cAAbD,SACEhM,EAAW1C,qBAAWc,GAAtB4B,OACR,OACE,qBAAIpE,UAAU,MAAd,UACE,oBAAIA,UAAwB,MAAboQ,EAAmB,cAAgB,GAAlD,SACE,cAAC,IAAD,CAAMzP,GAAG,IAAT,0DAEF,oBAAIX,UAAwB,YAAboQ,EAAyB,cAAgB,GAAxD,SACE,cAAC,IAAD,CAAMzP,GAAG,UAAT,4EAEF,oBAAIX,UAAwB,UAAboQ,EAAuB,cAAgB,GAAtD,SACE,cAAC,IAAD,CAAMzP,GAAG,QAAT,0DAEF,oBAAIX,UAAwB,YAAboQ,EAAyB,cAAgB,GAAxD,SACE,eAAC,IAAD,CAAMzP,GAAG,UAAT,UACE,cAAC,KAAD,MACGyD,EAAOxC,WAAWyD,QAAUjB,EAAOxC,WAAWyD,kBCc5CiL,GA7BA7O,aAAS,YAAoB,IAAjB8O,EAAgB,EAAhBA,UAEnBC,EADW9O,qBAAWuF,GAApBG,KACasB,OACrB,OACE,wBAAQ1I,UAAU,SAAlB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAACyQ,GAAD,MAEF,qBAAKzQ,UAAU,cAAf,SACE,cAAC,GAAD,MAEF,sBAAKA,UAAU,eAAf,UACGwQ,GAAW,cAAC,GAAD,KACVA,GACA,wBACExQ,UAAU,gBACVuG,QAAS,kBAAMgK,EAAU,UAF3B,yDAed,SAASE,KACP,OACE,qBAAKzQ,UAAU,OAAf,SAEE,qBACEN,GAAG,UACHgR,iBAAiB,0BACjBnL,OAAO,KACPoL,QAAQ,sBACRrL,MAAM,KACNsL,MAAM,6BANR,SAQE,4BACE,8BACE,sBACEC,EAAE,w3JACFC,KAAK,YAEP,sBACED,EAAE,0KACFC,KAAK,YAEP,sBACED,EAAE,6GACFC,KAAK,YAEP,sBACED,EAAE,iHACFC,KAAK,qB,MClEJ,SAASC,GAAT,GAAoD,IAAnCrK,EAAkC,EAAlCA,SAAUsK,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAChD,OACE,qBAAKjR,WAAsB,IAAXgR,EAAkB,qBAAuB,QAAzD,SACE,sBAAKhR,UAAU,mBAAf,UACG0G,EACD,wBACE1G,UAAU,eACVsG,KAAK,SACLC,QAAS,kBAAM0K,GAAa,IAH9B,uB,aCJKC,GAAY,uCAAG,WAAOnB,EAAOoB,GAAd,iBAAA3N,EAAA,sEACHf,EAAMgB,KAAK,wBAAyB,CACzDsM,QACAoB,aAHwB,wBAClBjQ,EADkB,EAClBA,OAIAA,EAAKkQ,OAAShO,aAAaiO,QAAQ,QAASnQ,EAAKkQ,OAL/B,kBAMnBE,aAAWpQ,EAAKkQ,QANG,2CAAH,wDASZG,GAAK,uCAAG,WAAOxB,EAAOoB,GAAd,iBAAA3N,EAAA,sEACIf,EAAMgB,KAAK,iBAAkB,CAClDsM,QACAoB,aAHiB,wBACXjQ,EADW,EACXA,OAIAA,EAAKkQ,OAAShO,aAAaiO,QAAQ,QAASnQ,EAAKkQ,OALtC,kBAMZE,aAAWpQ,EAAKkQ,QANJ,2CAAH,wDASLI,GAAK,uCAAG,8BAAAhO,EAAA,sEACIX,EAAUiB,IAAI,iBADlB,wBACX5C,EADW,EACXA,OACAA,EAAKkQ,OAAShO,aAAaiO,QAAQ,QAASnQ,EAAKkQ,OAFtC,kBAGZE,aAAWpQ,EAAKkQ,QAHJ,2CAAH,qD,MCwEHK,OAxFf,YAAkC,IAAjBR,EAAgB,EAAhBA,aACf,EAAsB3M,mBAAS,SAA/B,mBAAKoN,EAAL,KAAWC,EAAX,KACA,EAAwBrN,mBAAS,IAAjC,mBAAKyL,EAAL,KAAY6B,EAAZ,KACA,EAAsBtN,mBAAS,IAA/B,mBAAKuN,EAAL,KAAWC,EAAX,KACA,EAA8BxN,oBAAS,GAAvC,mBAAKyN,EAAL,KAAkBC,EAAlB,KACQ5K,EAAS1F,qBAAWuF,GAApBG,KAOF6K,EAAM,uCAAG,WAAOhI,GAAP,eAAAzG,EAAA,yDACbyG,EAAEP,iBADW,SAKE,UAATgI,EALO,gCAMGH,GAAMxB,EAAO8B,GANhB,OAMTnO,EANS,kCAQLqO,EARK,kCAQoBb,GAAanB,EAAO8B,GARxC,QAQQnO,EARR,eAWPA,IACFuG,EAAEC,OAAO+B,QACT7E,EAAK4I,QAAQtM,GACb0D,EAAK6I,WAAU,GACfgB,GAAa,IAfJ,kDAkBXzI,QAAQC,IAAI,KAAMyJ,SAAN,MAlBD,0DAAH,sDAqBZ,OACE,qCACE,6BAAc,UAATR,EAAmB,iCAAU,iHAClC,uBAAMhS,GAAG,OAAOoC,KAAK,OAAO9B,UAAU,OAAOwJ,SAAUyI,EAAvD,UACE,qCACE,uBAAOtJ,QAAQ,QAAf,oBACA,uBACErC,KAAK,QACL5G,GAAG,QACHyS,UAAQ,EACRrQ,KAAK,QACLkI,OAAQ,SAACC,GAAD,OAAO2H,EAAS3H,EAAEC,OAAOhK,aAGrC,qCACE,uBAAOyI,QAAQ,OAAf,uBACA,uBACErC,KAAK,WACL5G,GAAG,OACHyS,UAAQ,EACRrQ,KAAK,WACLkI,OAAQ,SAACC,GAAD,OAAO6H,EAAQ7H,EAAEC,OAAOhK,aAG1B,QAATwR,GACC,qCACE,uBAAO/I,QAAQ,cAAf,+BACA,uBACErC,KAAK,WACL5G,GAAG,cACHoC,KAAK,cACLkI,OAAQ,SAACC,GAAD,OAAO+H,EAASH,IAAS5H,EAAEC,OAAOhK,WAE1C6R,GAAeF,GACf,mBAAG7R,UAAU,iBAAb,yHAKN,sBAAKA,UAAU,eAAf,UACE,qCACY,UAAT0R,EAAmB,uEAAkB,0FACtC,mBAAGU,KAAK,YAAY7L,QApEX,SAAC0D,GAClBA,EAAEP,iBACiBiI,EAAV,UAATD,EAA2B,MAAiB,UAkEpC,SACY,UAATA,EAAmB,6FAAoB,sCAG5C,wBAAQpL,KAAK,SAAb,SACY,UAAToL,EAAmB,iCAAU,2H,MCzD3BW,OA1Bf,YAA2E,IAAxDrM,EAAuD,EAAvDA,MAAOoF,EAAgD,EAAhDA,KAAgD,IAA1CE,UAA0C,MAArC,GAAqC,MAAjCD,cAAiC,MAAxB,SAAwB,EAAdiH,EAAc,EAAdA,WAC1D,OACE,sBAAKtS,UAAU,UAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,6BAAKgG,MAEP,qBAAKhG,UAAU,gBAAf,SACE,4BAAIoL,MAGLE,GACC,sBAAKtL,UAAU,kBAAf,UACE,wBAAQsG,KAAK,SAASC,QAAS,kBAAM+L,EAAWhH,IAAhD,SACGA,IAEFD,GACC,wBAAQ/E,KAAK,SAASC,QAAS,kBAAM+L,EAAWjH,IAAhD,SACGA,WCoBAkH,I,MArCI,SAAC,GAA8B,IAA5BjR,EAA2B,EAA3BA,OAA2B,EAAnB2P,aAC5B,OACE,sBAAKjR,UAAU,YAAf,UACE,6BAAKsB,EAAOQ,OACZ,qBACEG,IAAKC,uCAAsCZ,EAAOS,IAClDI,IAAI,WAEN,yFAAeb,EAAO+E,MAAtB,0BACA,wHAAqB/E,EAAOyE,mBAC5B,sBAAKF,MAAO,CAAE2M,QAAS,OAAQC,eAAgB,SAAUnN,MAAO,QAAhE,UACE,oFACA,qBAAKO,MAAO,CAAE6M,WAAY,IAA1B,SACGpR,EAAOiD,OACNjD,EAAOiD,MAAMhE,KAAI,SAAC0F,GAAD,OACf,8BACGA,EAAKD,MADR,MACkBC,EAAKA,gBAK/B,sBAAKJ,MAAO,CAAE2M,QAAS,OAAQC,eAAgB,SAAUnN,MAAO,QAAhE,UACE,yEAAoB,IACpB,qBAAKO,MAAO,CAAE6M,WAAY,IAA1B,SACGpR,EAAO7B,KACN6B,EAAO7B,IAAIc,KAAI,SAACoS,GAAD,OACb,8BACGA,EAAK7Q,KADR,MACiB6Q,EAAKzS,sBCqFrB0S,GAjGHnR,aAAS,WACnB,IAAQ2F,EAAS1F,qBAAWuF,GAApBG,KACAnG,EAAYS,qBAAWH,GAAvBN,QAER0D,qBAAU,WACR6M,KAAQ5M,MAAK,SAAC1D,GACZkG,EAAK4I,QAAQ9O,GACbkG,EAAK6I,WAAU,MAEjBpM,IAAkBe,MAAK,SAAC1D,GACtB,IAAMgK,EAAO,GACbhK,EAAKiE,SAAQ,SAAC7D,GACZ4J,EAAK5J,EAAO5B,IAAM4B,KAEpBL,EAAQkK,cAAcD,MAExBsC,KAAgB5I,MAAK,SAAC1D,GACpBD,EAAQ4R,SACN3R,EAAKsG,QAAO,SAACC,EAAKnB,GAEhB,OADAmB,EAAInB,EAAK5G,IAAM4G,EAAKxE,KACb2F,IACN,UAGN,IAEH,MAAkCnD,oBAAS,GAA3C,mBAAKqG,EAAL,KAAkBsG,EAAlB,KACA,EAAoC3M,mBAAS,IAA7C,mBAAKwO,EAAL,KAAkBC,EAAlB,KACA,EAA4BzO,mBAAS,IAArC,mBAAK4N,EAAL,KAActH,EAAd,KACA,EAAwCtG,mBAAS,IAAjD,mBAAOuG,EAAP,KAAqBmI,EAArB,KAEMC,EAAQ7L,EAAK0I,QAEbzI,EAAY,SAACf,GACjByM,EAAezM,GACf2K,GAAa,IASf,OACE,sBAAKjR,UAAU,MAAf,UACE,cAAC,GAAD,CAAQuQ,UAAWlJ,IACnB,cAACb,EAAcvG,SAAf,CACEC,MAAO,CACLyK,cACAtD,YACAuD,aACAC,eACAoG,gBANJ,SASE,+BACE,eAAC,IAAD,WACGrB,GAAarP,KAAI,SAACC,EAAMqB,GAAP,OAChB,cAAC,IAAD,CAEE/B,KAAMU,EAAKV,KACXW,UAAWD,EAAKC,UAChBN,OAAK,GAHA0B,MAMRoR,GACC5S,GAAOE,KAAI,SAACC,EAAMqB,GAAP,OACT,cAAC,IAAD,CAEE/B,KAAMU,EAAKV,KACXW,UAAWD,EAAKC,WAFXoB,EAAQ,QAKnB,cAAC,IAAD,CAAUlB,GAAG,aAInB,eAACoQ,GAAD,CAAOC,OAAQrG,EAAasG,aAAcA,EAA1C,UACmB,UAAhB6B,GAA2B,cAAC,GAAD,CAAO7B,aAAcA,IAChC,SAAhB6B,GACC,cAAC,GAAD,CACE9M,MAAOkM,EAAQlM,MACfoF,KAAM8G,EAAQ9G,KACdE,GAAI4G,EAAQ5G,GACZD,OAAQ6G,EAAQ7G,OAChBiH,WAhDS,SAACpS,GAClB+Q,GAAa,GACb+B,EAAgB9S,GAChB0K,EAAWsH,MAgDU,WAAhBY,GACC,cAAC,GAAD,CAAY7B,aAAcA,EAAc3P,OAAQL,EAAQiS,sBC/FnDC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBzO,MAAK,YAAkD,IAA/C0O,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCGdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC5M,EAAYhH,SAAb,CAAsBC,MAAO,CAAEkH,KAAM,IAAIT,GAAzC,SACE,cAACpF,EAAetB,SAAhB,CAAyBC,MAAO,CAAEe,QAAS,IAAI6S,GAA/C,SACE,cAACtR,EAAcvC,SAAf,CAAwBC,MAAO,CAAEkE,OAAQ,IAAIhC,GAA7C,SACE,cAAC,GAAD,cAMV2R,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.36a303fe.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class PkiStore {\r\n  constructor() {\r\n    this._pki = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAllPki(pki) {\r\n    this._pki = { ...this._pki, ...pki };\r\n  }\r\n\r\n  get allPki() {\r\n    return this._pki;\r\n  }\r\n\r\n  getOnePki(id) {\r\n    return this._pki[id];\r\n  }\r\n}\r\n\r\nexport const PkiContext = createContext();\r\n","import \"./lk.scss\";\r\nimport { myRoom } from \"../../routes\";\r\nimport { Switch, Route, Link, useRouteMatch } from \"react-router-dom\";\r\nimport PkiStore, { PkiContext } from \"../../store/PkiStore\";\r\n\r\nfunction Lk() {\r\n  let { path } = useRouteMatch();\r\n  return (\r\n    <section className='my-room'>\r\n      <div className='container'>\r\n        <h2 className='my-room__title'>Личный кабинет</h2>\r\n        <div className='my-room__inner'>\r\n          <PkiContext.Provider value={{ pki: new PkiStore() }}>\r\n            <Switch>\r\n              <Route exact path={path}>\r\n                <MainLk />\r\n              </Route>\r\n              {myRoom[0].routes.map((item) => (\r\n                <Route\r\n                  path={item.path}\r\n                  component={item.component}\r\n                  key={item.path}\r\n                />\r\n              ))}\r\n            </Switch>\r\n          </PkiContext.Provider>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Lk;\r\n\r\nfunction MainLk() {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <h4>Выберите один из пунктов</h4>\r\n      <ul>\r\n        <li>\r\n          <Link to={`${url}/device`}>Устройства</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${url}/pki`}>ПКИ</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${url}/graph`}>Статистика</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${url}/type`}>Тип</Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import \"./main.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Main() {\r\n  return (\r\n    <section className='main'>\r\n      <div className='container'>\r\n        <div className='main__inner'>\r\n          <h1>Moto-device</h1>\r\n          <h3>Прокачай свой байк!</h3>\r\n          <div className='main__description'>\r\n            <p>\r\n              Краткое описание предлагаемых устройств, их функционал и\r\n              достоинства.\r\n            </p>\r\n            <div className='main__links'>\r\n              <Link to='/shop'>Купить</Link>\r\n              <Link to='/device'>Устройства</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class DeviceStore {\r\n  constructor() {\r\n    this._devices = {};\r\n    this._types = {};\r\n    this._showDevice = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAllDevices(devices) {\r\n    this._devices = devices;\r\n  }\r\n\r\n  setDevice(id, data) {\r\n    this._devices[id] = data;\r\n  }\r\n\r\n  get allDevices() {\r\n    return this._devices;\r\n  }\r\n\r\n  getDevice(id) {\r\n    return this._devices[id];\r\n  }\r\n\r\n  setTypes(types) {\r\n    this._types = types;\r\n  }\r\n\r\n  getType(id) {\r\n    return this._types[id];\r\n  }\r\n  get allTypes() {\r\n    return Object.entries(this._types);\r\n  }\r\n\r\n  setShowDevice(device) {\r\n    this._showDevice = device;\r\n  }\r\n\r\n  get showDevice() {\r\n    return this._showDevice;\r\n  }\r\n}\r\n\r\nexport const DevicesContext = createContext();\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport \"./devices.scss\";\r\n\r\nconst Devices = observer(() => {\r\n  const { devices } = useContext(DevicesContext);\r\n  return (\r\n    <section className='devices'>\r\n      <div className='container'>\r\n        <div className='devices__inner'>\r\n          <h2>Устройства</h2>\r\n          {Object.values(devices.allDevices).map(\r\n            ({ name, id, img, descriptionShort }, index) => {\r\n              return (\r\n                <div className='devices__item' key={index}>\r\n                  <div className='devices__image'>\r\n                    <img\r\n                      src={process.env.REACT_APP_API_URL + \"/\" + img}\r\n                      alt='device'\r\n                    />\r\n                  </div>\r\n                  <div className='devices__description'>\r\n                    <h3>{name}</h3>\r\n                    <p>{descriptionShort}</p>\r\n                    <Link to={`/device/${id}`}>Подробнее</Link>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Devices;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class BasketStore {\r\n  constructor() {\r\n    this._devices = [];\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  saveInBasket(idDevice) {\r\n    this._devices = [...this._devices, { id: idDevice, count: 1 }];\r\n  }\r\n\r\n  deleteFromBasket(idDevice) {\r\n    this._devices = this._devices.filter((item) => item.id !== idDevice);\r\n  }\r\n\r\n  clearBasket() {\r\n    this._devices = [];\r\n  }\r\n\r\n  countInc(index) {\r\n    this._devices[index].count++;\r\n  }\r\n\r\n  countDec(index) {\r\n    this._devices[index].count--;\r\n  }\r\n\r\n  get allDevices() {\r\n    return this._devices;\r\n  }\r\n}\r\n\r\nexport const BasketContext = createContext();\r\n","import axios from \"axios\";\r\n\r\nconst $host = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nconst $authHost = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nconst authInterceptors = (config) => {\r\n  config.headers.authorization = `Bearer ${localStorage.getItem(\"token\")}`;\r\n  return config;\r\n};\r\n\r\n$authHost.interceptors.request.use(authInterceptors);\r\n\r\nexport { $authHost, $host };\r\n","import { $authHost, $host } from \"./index\";\r\n\r\nexport const createDevice = async (formData) => {\r\n  const res = await $authHost.post(\"api/device\", formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateDevice = async (id, formData) => {\r\n  const res = await $authHost.put(`api/device/${id}`, formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchAllDevices = async () => {\r\n  const res = await $host.get(\"api/device\");\r\n  return res.data;\r\n};\r\n\r\nexport const fetchOneDevice = async (id) => {\r\n  const res = await $host.get(`api/device/${id}`);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteDevice = async (id) => {\r\n  const res = await $authHost.delete(`api/device/${id}`);\r\n  return res.status;\r\n};\r\n","import \"./device.scss\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { BasketContext } from \"../store/BasketStore\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { fetchOneDevice } from \"../http/deviceAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport SimpleImageSlider from \"react-simple-image-slider\";\r\n\r\nconst Device = observer(() => {\r\n  const { devices } = useContext(DevicesContext);\r\n  const { basket } = useContext(BasketContext);\r\n  const { id } = useParams();\r\n  const [device, setDevice] = useState({ props: [] });\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchOneDevice(id).then((data) => {\r\n      setDevice(data);\r\n      devices.setDevice(data.id, data);\r\n    });\r\n  }, []);\r\n\r\n  const enableInBasket = (idDevice) =>\r\n    basket.allDevices.some((item) => item.id === idDevice);\r\n\r\n  const addToCart = (idDevice) => {\r\n    !enableInBasket(idDevice) && basket.saveInBasket(idDevice);\r\n  };\r\n\r\n  const buyNow = (idDevice) => {\r\n    addToCart(idDevice);\r\n    history.push(\"/basket\");\r\n  };\r\n\r\n  const slides = [{ url: process.env.REACT_APP_API_URL + \"/\" + device.img }];\r\n\r\n  device.photos &&\r\n    device.photos.forEach((img) =>\r\n      slides.push({\r\n        url: `${process.env.REACT_APP_API_URL}/${device.name}/${img}`,\r\n      })\r\n    );\r\n\r\n  return (\r\n    <section className='device'>\r\n      <div className='container'>\r\n        <div className='device__inner'>\r\n          <h2>{device.name}</h2>\r\n\r\n          {device.photos && device.photos.length ? (\r\n            <SimpleImageSlider\r\n              width={480}\r\n              height={270}\r\n              images={slides}\r\n              showBullets={true}\r\n              showNavs={true}\r\n              navSize={30}\r\n              navMargin={10}\r\n              style={{ margin: \"0 auto\" }}\r\n            />\r\n          ) : (\r\n            <img\r\n              src={process.env.REACT_APP_API_URL + \"/\" + device.img}\r\n              alt='device'\r\n            />\r\n          )}\r\n          <p>{device.descriptionFull}</p>\r\n          <table className='device__props'>\r\n            <thead>\r\n              <tr>\r\n                <th>Характеристика</th>\r\n                <th>Значение</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {Object.values(device.props).map((item, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.prop}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <p>Тип мотоцикла: {devices.getType(device.typeId)}</p>\r\n          <p> В наличии: {device.inStock} шт.</p>\r\n          <p> Стоимость: {device.price} руб.</p>\r\n          <div className='device__links'>\r\n            <button type='button' onClick={() => buyNow(id)}>\r\n              Купить сейчас\r\n            </button>\r\n            <button type='button' onClick={() => addToCart(id)}>\r\n              {enableInBasket(id) ? \"Перейти \" : \"Добавить \"} в корзину\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Device;\r\n","import { createContext } from \"react\";\r\n\r\nexport const devices = {\r\n  t1: {\r\n    name: \"Device #1\",\r\n    id: \"t1\",\r\n    inStock: 2,\r\n    price: 1200,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 120,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 3500,\r\n      },\r\n    },\r\n  },\r\n  t2: {\r\n    name: \"Device #2\",\r\n    id: \"t2\",\r\n    inStock: 1,\r\n    price: 800,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 80,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 3000,\r\n      },\r\n    },\r\n  },\r\n  t3: {\r\n    name: \"Device #3\",\r\n    id: \"t3\",\r\n    inStock: 3,\r\n    price: 1000,\r\n    image:\r\n      \"https://srpmqa.ch.files.1drv.com/y4m3u5O-u9y1CRVMHN8tYi7cgErp-3JbBn2n7lkiWvu7BWMOJm9iZtWCLErntO5Hgl-yD5ww2Ym6i2oSs55vtOr5OprsqgOvpClCPnGI6Xkmhborb9N1qi4sXNb_TKWg0lUNTJN2aFQ-NNeat54riLtIBzG9PlD1pUvgweqrhUhtGUFf23yD9f1y-bOiW-hbZau-nvHAgJYu1JmZ-LFlXpUjA/device.jpg?psid=1\",\r\n    description: {\r\n      short:\r\n        \"Здесь нужно дать краткую информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Полная информация будет предоставлена на страничке описания этого устройства по ссылке ниже.\",\r\n      full:\r\n        \"Здесь нужно дать полную информацию об устройстве, его свойствах. Написать какое оно хорошее и замечательное. Было придумано для людей которые хотят получить от своего мотоцикла всё. Скорее всего в отом месте будет очень много текста...\",\r\n    },\r\n    props: {\r\n      speed: {\r\n        title: \"Скорость, км/ч\",\r\n        value: 100,\r\n      },\r\n      rotate: {\r\n        title: \"Рабочие обороты, об/мин\",\r\n        value: 4500,\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport const DeviceContext = createContext();\r\n\r\nexport const GoodsContext = createContext();\r\n","import \"./cardHorizon.scss\";\r\n\r\nfunction CardHorizon({ children, item }) {\r\n  return (\r\n    <div className='card-h'>\r\n      <div className='card-h__image'>\r\n        <img\r\n          src={process.env.REACT_APP_API_URL + \"/\" + item.img}\r\n          alt='device'\r\n        />\r\n      </div>\r\n      <div className='card-h__header'>\r\n        <h3 className='card-h__title'>{item.name}</h3>\r\n      </div>\r\n      <div className='card-h__body'>\r\n        <p>{item.descriptionShort}</p>\r\n        <p>В наличии: {item.inStock} шт.</p>\r\n        <p> Стоимость: {item.price} руб.</p>\r\n      </div>\r\n      <div className='card-h__footer'>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardHorizon;\r\n","import { createContext } from \"react\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class UserStore {\r\n  constructor() {\r\n    this._isAuth = false;\r\n    this._user = {};\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setIsAuth(val) {\r\n    this._isAuth = val;\r\n  }\r\n\r\n  setUser(userData) {\r\n    this._user = { ...this._user, ...userData };\r\n  }\r\n\r\n  get isAuth() {\r\n    return this._isAuth;\r\n  }\r\n\r\n  get user() {\r\n    return this._user;\r\n  }\r\n\r\n  get isAdmin() {\r\n    return this._user.role && this._user.role === \"ADMIN\";\r\n  }\r\n}\r\n\r\nexport const UserContext = createContext();\r\n","import { $authHost } from \"./index\";\r\n\r\nexport const buyDevices = async (basket) => {\r\n  const res = await $authHost.post(\"api/statistics\", basket);\r\n  return res;\r\n};\r\n\r\nexport const fetchAllDevices = async () => {\r\n  const res = await $authHost.get(\"api/statistics\");\r\n  return res.data;\r\n};\r\n","import \"./basket.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext, useState } from \"react\";\r\nimport { BasketContext } from \"../store/BasketStore\";\r\nimport { DeviceContext } from \"../store/store\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport CardHorizon from \"../components/CardHorizon/CardHorizon\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { UserContext } from \"../store/UserStore\";\r\nimport { buyDevices } from \"../http/buyAPI\";\r\n\r\nconst Basket = observer(() => {\r\n  const { basket } = useContext(BasketContext);\r\n  const { devices } = useContext(DevicesContext);\r\n  const { user } = useContext(UserContext);\r\n  const { openModal } = useContext(DeviceContext);\r\n\r\n  const goods = basket.allDevices.length;\r\n  const totalCost = basket.allDevices.reduce(\r\n    (acc, item) => item.count * devices.allDevices[item.id].price + acc,\r\n    0\r\n  );\r\n  const totalGoods = basket.allDevices.reduce(\r\n    (acc, { count }) => acc + count,\r\n    0\r\n  );\r\n  const changeCount = (idDevice, func) => {\r\n    const indexDevice = basket.allDevices.findIndex(\r\n      (item) => item.id === idDevice\r\n    );\r\n    // eslint-disable-next-line default-case\r\n    switch (func) {\r\n      case \"minus\":\r\n        basket.countDec(indexDevice);\r\n        break;\r\n      case \"plus\":\r\n        basket.countInc(indexDevice);\r\n        break;\r\n    }\r\n  };\r\n  const deleteGood = (idDevice) => {\r\n    basket.deleteFromBasket(idDevice);\r\n  };\r\n\r\n  const deleteAllGoods = () => {\r\n    basket.clearBasket();\r\n  };\r\n\r\n  const buy = async () => {\r\n    const toBuy = { user_id: user.user.id, devices: basket.allDevices };\r\n    toBuy.devices.forEach((item) => (item.info = devices.getDevice(item.id)));\r\n    const res = await buyDevices(toBuy);\r\n    if (res.status === 200) deleteAllGoods();\r\n    console.log(\"Покупка\", res);\r\n  };\r\n\r\n  return (\r\n    <section className='basket'>\r\n      <div className='container'>\r\n        <h2>Корзина</h2>\r\n\r\n        {!goods ? (\r\n          <p>\r\n            В корзине пока нет товаров! <Link to='/shop'>Выбрать товар</Link>\r\n          </p>\r\n        ) : (\r\n          <div className='basket__container'>\r\n            <aside className='basket__menu'>\r\n              <div className='info'>\r\n                <h3 className='info__title'>В корзине </h3>\r\n                <p className='info__text'>{totalGoods} товаров</p>\r\n                <p className='info__text'>К оплате: {totalCost} рублей</p>\r\n                {user.isAuth ? (\r\n                  <button onClick={buy}>Оформить</button>\r\n                ) : (\r\n                  <button onClick={() => openModal(\"login\")}>Войти</button>\r\n                )}\r\n              </div>\r\n\r\n              <button className='basket__btn' onClick={deleteAllGoods}>\r\n                Очистить корзину\r\n              </button>\r\n            </aside>\r\n            <div className='basket__goods'>\r\n              {basket.allDevices.map((item, index) => (\r\n                <CardHorizon item={devices.getDevice(item.id)} key={index}>\r\n                  <div className='options'>\r\n                    <label htmlFor='count'>Количество</label>\r\n                    <div className='options__control'>\r\n                      <button\r\n                        className='options__btn'\r\n                        onClick={() => changeCount(item.id, \"minus\")}\r\n                        disabled={item.count < 2}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <output name='count'>{item.count}</output>\r\n                      <button\r\n                        className='options__btn'\r\n                        onClick={() => changeCount(item.id, \"plus\")}\r\n                        disabled={item.count === item.inStock}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <DeleteForeverIcon\r\n                    className='icon-button'\r\n                    onClick={() => deleteGood(item.id)}\r\n                  />\r\n                </CardHorizon>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Basket;\r\n","import \"./shop.scss\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { BasketContext } from \"../store/BasketStore\";\r\nimport { DevicesContext } from \"../store/DevicesStore\";\r\nimport { useContext, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Shop = observer(() => {\r\n  const { devices } = useContext(DevicesContext);\r\n  const { basket } = useContext(BasketContext);\r\n  const [devicesInShop, setDevicesInShop] = useState(\r\n    Object.values(devices.allDevices)\r\n  );\r\n  let history = useHistory();\r\n\r\n  let [filterString, setFilterString] = useState(\"\");\r\n  let [filterInStock, setFilterInStock] = useState(false);\r\n  let [filterTypes, setFilterTypes] = useState([]);\r\n\r\n  const enableInBasket = (idDevice) =>\r\n    basket.allDevices.some((item) => item.id === idDevice);\r\n\r\n  const addToCart = (idDevice) => {\r\n    !enableInBasket(idDevice) && basket.saveInBasket(idDevice);\r\n  };\r\n\r\n  const buyNow = (idDevice) => {\r\n    addToCart(idDevice);\r\n    history.push(\"/basket\");\r\n  };\r\n\r\n  const handleFilter = (event) => {\r\n    event.preventDefault();\r\n    let filterResult = Object.values(devices.allDevices);\r\n\r\n    if (filterString)\r\n      filterResult = filterResult.filter((device) =>\r\n        device.name.toLowerCase().includes(filterString.toLowerCase())\r\n      );\r\n\r\n    if (filterInStock)\r\n      filterResult = filterResult.filter((device) => device.inStock > 0);\r\n    if (filterTypes.length) {\r\n      filterResult = filterResult.filter((device) =>\r\n        filterTypes.includes(`${device.typeId}`)\r\n      );\r\n    }\r\n    setDevicesInShop(filterResult);\r\n  };\r\n\r\n  const changeFilterType = (type) => {\r\n    if (filterTypes.includes(type)) {\r\n      setFilterTypes(filterTypes.filter((item) => item !== type));\r\n    } else {\r\n      setFilterTypes([...filterTypes, type]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className='shop'>\r\n      <div className='container'>\r\n        <div className='shop__inner'>\r\n          <h2>Магазин</h2>\r\n          <div className='shop__container'>\r\n            <aside className='shop__menu'>\r\n              <div className='filter'>\r\n                <h3>Фильтры</h3>\r\n                <form\r\n                  name='filter'\r\n                  className='filter__form'\r\n                  onSubmit={handleFilter}\r\n                >\r\n                  <input\r\n                    type='text'\r\n                    name='query'\r\n                    placeholder='Поиск по названию'\r\n                    defaultValue={filterString}\r\n                    onBlur={(e) => setFilterString(e.target.value)}\r\n                  />\r\n                  <div className='filter__group'>\r\n                    <input\r\n                      type='checkbox'\r\n                      id='inStock'\r\n                      name='inStock'\r\n                      checked={filterInStock}\r\n                      onChange={() => setFilterInStock(!filterInStock)}\r\n                    />\r\n                    <label htmlFor='inStock'>В наличии</label>\r\n                  </div>\r\n                  <p>По типу:</p>\r\n                  {devices.allTypes.map((type) => {\r\n                    return (\r\n                      <div className='filter__group'>\r\n                        <input\r\n                          type='checkbox'\r\n                          id={`type_${type[0]}`}\r\n                          name={type[1]}\r\n                          checked={filterTypes.includes(type[0])}\r\n                          onChange={() => changeFilterType(type[0])}\r\n                        />\r\n                        <label htmlFor={`type_${type[0]}`}>{type[1]}</label>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  <button type='submit'>Показать</button>\r\n                </form>\r\n              </div>\r\n            </aside>\r\n            <div className='shop__goods'>\r\n              {devicesInShop &&\r\n                devicesInShop.map((item, index) => {\r\n                  return (\r\n                    <div className='card' key={index}>\r\n                      <div className='card__image'>\r\n                        <img\r\n                          src={process.env.REACT_APP_API_URL + \"/\" + item.img}\r\n                          alt='device'\r\n                        />\r\n                      </div>\r\n                      <div className='card__header'>\r\n                        <h3 className='card__title'>{item.name}</h3>\r\n                      </div>\r\n                      <div className='card__body'>\r\n                        <p>{item.descriptionShort}</p>\r\n                        <p>\r\n                          <Link to={`/device/${item.id}`}>Подробнее</Link>\r\n                        </p>\r\n                        <p>В наличии: {item.inStock} шт.</p>\r\n                        <p> Стоимость: {item.price} руб.</p>\r\n                      </div>\r\n                      <div className='card__footer'>\r\n                        <div className='card__btns'>\r\n                          <button onClick={() => buyNow(item.id)}>\r\n                            Купить сейчас\r\n                          </button>\r\n                          <button\r\n                            onClick={() =>\r\n                              enableInBasket(item.id)\r\n                                ? buyNow(item.id)\r\n                                : addToCart(item.id)\r\n                            }\r\n                          >\r\n                            {enableInBasket(item.id) ? \"Перейти \" : \"Добавить \"}{\" \"}\r\n                            в Корзину\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Shop;\r\n","import { $authHost, $host } from \"./index\";\r\n\r\nexport const fetchAllPki = async () => {\r\n  const res = await $host.get(\"api/pki\");\r\n  return res.data;\r\n};\r\n\r\nexport const deletePki = async (id) => {\r\n  const res = (await $authHost.delete(`api/pki/${id}`)).status;\r\n  return res;\r\n};\r\n\r\nexport const updatePki = async (formData) => {\r\n  const res = await $authHost.post(\"api/pki\", formData);\r\n  return res;\r\n};\r\n","// import { useLocation } from \"react-router\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../../store/store\";\r\nimport { PkiContext } from \"../../store/PkiStore\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { DevicesContext } from \"../../store/DevicesStore\";\r\nimport CardHorizon from \"../../components/CardHorizon/CardHorizon.jsx\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { fetchAllDevices, deleteDevice } from \"../../http/deviceAPI\";\r\nimport { fetchAllPki } from \"../../http/pkiAPI\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Stock = observer(() => {\r\n  const { isOpenModal, openModal, setMessage, dialogResult } =\r\n    useContext(DeviceContext);\r\n  const { devices } = useContext(DevicesContext);\r\n  const { pki } = useContext(PkiContext);\r\n  const [selected, setSelected] = useState(\"\");\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchAllPki().then((data) => {\r\n      const fetchPki = data.reduce((acc, item) => {\r\n        acc[item.name] = item;\r\n        return acc;\r\n      }, {});\r\n      pki.setAllPki(fetchPki);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    !isOpenModal &&\r\n      fetchAllDevices().then((data) => {\r\n        const devs = {};\r\n        data.forEach((device) => {\r\n          devs[device.id] = device;\r\n        });\r\n        devices.setAllDevices(devs);\r\n      });\r\n  }, [isOpenModal]);\r\n\r\n  useEffect(() => {\r\n    if (dialogResult === \"Удалить\") {\r\n      deleteDevice(selected).then((res) => {\r\n        if (res === 200) {\r\n          setMessage({\r\n            title: \"Успешно\",\r\n            text: `Устройство удалено`,\r\n            cancel: \"\",\r\n            ok: \"OK\",\r\n          });\r\n          openModal(\"mess\");\r\n        }\r\n      });\r\n    }\r\n  }, [dialogResult]);\r\n\r\n  const addDevice = () => {\r\n    history.push(\"/lk/addDevice\");\r\n  };\r\n\r\n  const editDevice = (id) => {\r\n    history.push(\"/lk/addDevice/\" + id);\r\n  };\r\n\r\n  const openDialogToDelete = (id, name) => {\r\n    setMessage({\r\n      title: \"Внимание!\",\r\n      text: `Вы действительно хотите удалить ${name} ?`,\r\n      cancel: \"Отмена\",\r\n      ok: \"Удалить\",\r\n    });\r\n    setSelected(id);\r\n    openModal(\"mess\");\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>Устройства</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <div className='stock__devices'>\r\n        {Object.values(devices.allDevices).map((device) => (\r\n          <CardHorizon item={device} key={device.id}>\r\n            <DeleteForeverIcon\r\n              className='icon-button'\r\n              onClick={() => openDialogToDelete(device.id, device.name)}\r\n            />\r\n            <EditIcon\r\n              className='icon-button'\r\n              onClick={() => editDevice(device.id)}\r\n            />\r\n          </CardHorizon>\r\n        ))}\r\n      </div>\r\n      <div className='stock__add'>\r\n        <button className='stock__btn' onClick={addDevice}>\r\n          Добавить устройство\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../../store/store\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { fetchAllPki, deletePki, updatePki } from \"../../http/pkiAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst StockPki = observer(() => {\r\n  const { openModal, setMessage, dialogResult } = useContext(DeviceContext);\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [pkiArray, setPkiArray] = useState([]);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchAllPki().then((data) => {\r\n      data.forEach((item) => (item.disabled = true));\r\n      setPkiArray(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dialogResult === \"Удалить\") {\r\n      deletePki(selected).then((res) => {\r\n        if (res === 200) {\r\n          setMessage({\r\n            title: \"Успешно\",\r\n            text: `Комплектующее удалено`,\r\n            cancel: \"\",\r\n            ok: \"OK\",\r\n          });\r\n          setPkiArray(pkiArray.filter((item) => item.id !== selected));\r\n          openModal(\"mess\");\r\n        }\r\n      });\r\n    }\r\n  }, [dialogResult]);\r\n\r\n  const addPki = () => {\r\n    setPkiArray([\r\n      ...pkiArray,\r\n      { name: \"\", deliver: \"\", value: 0, id: new Date(), disabled: false },\r\n    ]);\r\n  };\r\n\r\n  const editPki = (id) => {\r\n    const editPki = pkiArray.map((item) =>\r\n      item.id === id ? { ...item, disabled: false } : item\r\n    );\r\n    setPkiArray(editPki);\r\n  };\r\n\r\n  const handleSavePki = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const pkiToSave = pkiArray\r\n      .filter((pki) => pki.name !== \"\")\r\n      .filter((pki) => pki.disabled === false);\r\n    let savePki = new FormData();\r\n    savePki.append(\"data\", JSON.stringify(pkiToSave));\r\n    await updatePki(savePki);\r\n    e.target.reset();\r\n    history.push(\"/lk\");\r\n  };\r\n\r\n  const openDialogToDelete = (id, name) => {\r\n    setMessage({\r\n      title: \"Внимание!\",\r\n      text: `Вы действительно хотите удалить ${name} ?`,\r\n      cancel: \"Отмена\",\r\n      ok: \"Удалить\",\r\n    });\r\n    setSelected(id);\r\n    openModal(\"mess\");\r\n  };\r\n\r\n  const changeProps = (key, value, prop_id) => {\r\n    setPkiArray(\r\n      pkiArray.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>ПКИ</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <div className='stock__pki'>\r\n        <form className='table' onSubmit={handleSavePki}>\r\n          <fieldset>\r\n            <legend>Комплектующие</legend>\r\n            <div className='table__head'>\r\n              <p>№</p>\r\n              <p>Наименование</p>\r\n              <p>Срок доставки, дней</p>\r\n              <p>Количество всего, шт</p>\r\n              <p>Количество свободных, шт</p>\r\n            </div>\r\n            <ol>\r\n              {pkiArray.map((item) => (\r\n                <li key={item.name + item.id}>\r\n                  <div className='table__row'>\r\n                    <input\r\n                      type='text'\r\n                      name='name'\r\n                      defaultValue={item.name}\r\n                      onBlur={(e) => {\r\n                        const val = e.target.value.trim();\r\n                        e.target.value = val;\r\n                        changeProps(\"name\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <input\r\n                      type='text'\r\n                      name='deliver'\r\n                      defaultValue={item.deliver}\r\n                      onBlur={(e) => {\r\n                        const val = e.target.value.trim();\r\n                        e.target.value = val;\r\n                        changeProps(\"deliver\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <input\r\n                      type='number'\r\n                      name='value'\r\n                      defaultValue={item.value}\r\n                      min='0'\r\n                      onBlur={(e) => {\r\n                        const val = parseInt(e.target.value, 10);\r\n                        e.target.value = val;\r\n                        changeProps(\"value\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n                    <input\r\n                      type='number'\r\n                      name='free'\r\n                      defaultValue={item.free}\r\n                      min='0'\r\n                      disabled\r\n                    />\r\n                    <button type='button' onClick={() => editPki(item.id)}>\r\n                      Редактировать\r\n                    </button>\r\n                    <DeleteForeverIcon\r\n                      className='icon-button'\r\n                      onClick={() => openDialogToDelete(item.id, item.name)}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ol>\r\n            <div className='table__add'>\r\n              <button className='stock__btn' type='button' onClick={addPki}>\r\n                Добавить комплектующее\r\n              </button>\r\n            </div>\r\n          </fieldset>\r\n          <div className='table__save'>\r\n            <button className='stock__btn' type='submit'>\r\n              Сохранить\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default StockPki;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchAllDevices } from \"../../http/buyAPI\";\r\nimport { DevicesContext } from \"../../store/DevicesStore\";\r\nimport { DeviceContext } from \"../../store/store\";\r\n\r\nconst Graph = () => {\r\n  const { devices } = useContext(DevicesContext);\r\n  const { openModal } = useContext(DeviceContext);\r\n\r\n  const [stat, setStat] = useState([]);\r\n  let [changeUID, setChangeUID] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchAllDevices().then((res) => setStat(res));\r\n  }, []);\r\n\r\n  const deviceInfo = (info) => {\r\n    return (\r\n      <div className='statistic__card'>\r\n        <h3>{info.name}</h3>\r\n        <p>Обновлен: {info.updatedAt.split(\"T\")[0]}</p>\r\n        <p>{info.descriptionShort}</p>\r\n        <a\r\n          onClick={() => {\r\n            openModal(\"device\");\r\n            devices.setShowDevice(info);\r\n          }}\r\n        >\r\n          Подробнее\r\n        </a>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const saveUID = () => {\r\n    console.log(\"saveUID\");\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>Статистика</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <table className='statistic__table'>\r\n        <thead>\r\n          <tr>\r\n            <th>user_id</th>\r\n            <th>device_id</th>\r\n            <th>device_info</th>\r\n            <th>device_uid</th>\r\n            <th>ready</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {stat.length &&\r\n            stat.map((item, index) => {\r\n              return (\r\n                <tr key={index}>\r\n                  <td>{item.user_id}</td>\r\n                  <td>{item.device_id}</td>\r\n                  <td>{deviceInfo(item.device_info)}</td>\r\n                  <td>\r\n                    <div>\r\n                      <input\r\n                        value={item.device_uid}\r\n                        disabled={!changeUID[index]}\r\n                      />\r\n                      <button\r\n                        onClick={() =>\r\n                          !changeUID[index]\r\n                            ? () => {\r\n                                changeUID[index] = true;\r\n                                setChangeUID(changeUID);\r\n                              }\r\n                            : saveUID()\r\n                        }\r\n                      >\r\n                        {changeUID[index] ? \"Сохранить\" : \"Изменить\"} UID\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <input type='checkbox' checked={item.ready} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Graph;\r\n","import { $authHost, $host } from \"./index\";\r\n\r\nexport const fetchAllTypes = async () => {\r\n  const res = await $host.get(\"api/type\");\r\n  return res.data;\r\n};\r\n\r\nexport const deleteType = async (id) => {\r\n  const res = (await $authHost.delete(`api/type/${id}`)).status;\r\n  return res;\r\n};\r\n\r\nexport const updateType = async (formData) => {\r\n  const res = await $authHost.post(\"api/type\", formData);\r\n  return res;\r\n};\r\n","import \"./deviceInfo.scss\";\r\nimport {\r\n  createDevice,\r\n  fetchOneDevice,\r\n  updateDevice,\r\n} from \"../../http/deviceAPI\";\r\nimport { fetchAllPki } from \"../../http/pkiAPI\";\r\nimport { fetchAllTypes } from \"../../http/typeAPI\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n// import { PkiContext } from \"../../store/PkiStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst DeviceInfo = observer(() => {\r\n  const [device, setDevice] = useState({});\r\n  const [props, setProps] = useState([]);\r\n  const [devicePki, setDevicePki] = useState([]);\r\n  const { id } = useParams();\r\n  const [allPki, setAllPki] = useState({});\r\n  const [allTypes, setAllTypes] = useState({});\r\n  let [inStockMax, setInStockMax] = useState(0);\r\n  const [morePhoto, setMorePhoto] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchOneDevice(id).then((data) => {\r\n        setDevice(data);\r\n        data.props.length && setProps(data.props);\r\n        data.pki.length && setDevicePki(data.pki);\r\n      });\r\n    }\r\n    fetchAllPki().then((data) => {\r\n      const fetchPki = data.reduce((acc, item) => {\r\n        acc[item.name] = item;\r\n        return acc;\r\n      }, {});\r\n      setAllPki(fetchPki);\r\n    });\r\n    fetchAllTypes().then((data) => {\r\n      setAllTypes(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    computedInStock();\r\n  }, [devicePki, allPki]);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newDevice = new FormData(e.target);\r\n    props.length && newDevice.append(\"props\", JSON.stringify(props));\r\n    devicePki.length && newDevice.append(\"pki\", JSON.stringify(devicePki));\r\n    try {\r\n      if (id) {\r\n        await updateDevice(id, newDevice);\r\n      } else {\r\n        await createDevice(newDevice);\r\n      }\r\n\r\n      e.target.reset();\r\n      history.push(\"/lk/device\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const addProp = () => {\r\n    setProps([...props, { title: \"\", prop: \"\", id: new Date() }]);\r\n  };\r\n\r\n  const deleteProp = (prop_id) => {\r\n    setProps(props.filter((item) => item.id !== prop_id));\r\n  };\r\n\r\n  const changeProps = (key, value, prop_id) => {\r\n    setProps(\r\n      props.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const changePki = (key, value, prop_id) => {\r\n    setDevicePki(\r\n      devicePki.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const addPki = () => {\r\n    setDevicePki([\r\n      ...devicePki,\r\n      { name: Object.keys(allPki)[0], value: \"0\", id: new Date() },\r\n    ]);\r\n  };\r\n\r\n  const deletePki = (prop_id) => {\r\n    setDevicePki(devicePki.filter((item) => item.id !== prop_id));\r\n  };\r\n\r\n  const computedInStock = () => {\r\n    if (devicePki.length) {\r\n      const arr = devicePki.map((devPki) => {\r\n        const pkiValue = allPki[devPki.name] ? allPki[devPki.name].free : 0;\r\n        return Math.floor(pkiValue / devPki.value);\r\n      });\r\n      setInStockMax(Math.min(...arr));\r\n    } else {\r\n      setInStockMax(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='info-device'>\r\n      <form\r\n        name='deviceInfo'\r\n        className='info-device__form'\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <fieldset>\r\n          <div className='info-device__group'>\r\n            <label>Наименование:</label>\r\n            <input\r\n              type='text'\r\n              id='name'\r\n              name='name'\r\n              defaultValue={device.name}\r\n            />\r\n          </div>\r\n          <div className='info-device__group'>\r\n            <label>Стоимость:</label>\r\n            <input\r\n              type='number'\r\n              id='price'\r\n              name='price'\r\n              defaultValue={device.price}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Описание</legend>\r\n          <label>Полное:</label>\r\n          <textarea\r\n            type='text'\r\n            rows='4'\r\n            id='descriptionFull'\r\n            name='descriptionFull'\r\n            defaultValue={device.descriptionFull}\r\n          />\r\n\r\n          <label>Краткое:</label>\r\n          <textarea\r\n            type='text'\r\n            rows='2'\r\n            id='descriptionShort'\r\n            name='descriptionShort'\r\n            defaultValue={device.descriptionShort}\r\n          />\r\n        </fieldset>\r\n        <fieldset>\r\n          <label>Изображение:</label>\r\n          <input type='file' id='image' name='image' />\r\n          {morePhoto && (\r\n            <input type='file' id='photos' name='photos' multiple />\r\n          )}\r\n          <div className='propsline' key={id}>\r\n            <button type='button' onClick={() => setMorePhoto(!morePhoto)}>\r\n              {morePhoto ? \"Меньше\" : \"Больше\"} фото\r\n            </button>\r\n          </div>\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Характеристики</legend>\r\n          <button type='button' onClick={addProp}>\r\n            Добавить характеристику\r\n          </button>\r\n          {props.map(({ title, prop, id }) => {\r\n            return (\r\n              <div className='propsline' key={id}>\r\n                <div className='propsline__group'>\r\n                  <label>Характеристика:</label>\r\n                  <input\r\n                    type='text'\r\n                    name='title'\r\n                    defaultValue={title}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      changeProps(\"title\", val, id);\r\n                      e.target.value = val;\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className='propsline__group'>\r\n                  <label>Значение:</label>\r\n                  <input\r\n                    type='text'\r\n                    name='prop'\r\n                    defaultValue={prop}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      e.target.value = val;\r\n                      changeProps(\"prop\", val, id);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  className='propsline__btn'\r\n                  onClick={() => deleteProp(id)}\r\n                  type='button'\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Комплектующие</legend>\r\n          <button type='button' onClick={addPki}>\r\n            Добавить компелктующее\r\n          </button>\r\n          {devicePki.map(({ name, value, id }) => {\r\n            return (\r\n              <div className='propsline' key={`${name}${id}`}>\r\n                <div className='propsline__group'>\r\n                  <label>Комплектующее:</label>\r\n                  <select\r\n                    name='pki_name'\r\n                    onChange={(e) => changePki(\"name\", e.target.value, id)}\r\n                  >\r\n                    {Object.values(allPki).map((item) => {\r\n                      return (\r\n                        <option\r\n                          value={item.name}\r\n                          selected={item.name === name}\r\n                          key={item.name + item.id}\r\n                        >\r\n                          {item.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                </div>\r\n                <div className='propsline__group'>\r\n                  <label>Количество:</label>\r\n                  <input\r\n                    type='number'\r\n                    min='1'\r\n                    name='value'\r\n                    defaultValue={value}\r\n                    onBlur={(e) => {\r\n                      const val = e.target.value.trim();\r\n                      e.target.value = val;\r\n                      changePki(\"value\", val, id);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  className='propsline__btn'\r\n                  onClick={() => deletePki(id)}\r\n                  type='button'\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>Тип</legend>\r\n          <div className='propsline'>\r\n            <div className='propsline__group'>\r\n              <select name='typeId'>\r\n                {allTypes.length &&\r\n                  allTypes.map((item) => {\r\n                    return (\r\n                      <option\r\n                        value={item.id}\r\n                        selected={item.id === device.typeId}\r\n                        key={item.name + item.id}\r\n                      >\r\n                        {item.name}\r\n                      </option>\r\n                    );\r\n                  })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n        <fieldset>\r\n          <div className='info-device__group'>\r\n            <label>В наличии:</label>\r\n            <input\r\n              type='number'\r\n              id='inStock'\r\n              name='inStock'\r\n              defaultValue={device.inStock}\r\n              max={device.inStock > inStockMax ? device.inStock : inStockMax}\r\n              min='0'\r\n            />\r\n          </div>\r\n          <div className='info-device__group'>\r\n            <p>\r\n              Не более {inStockMax === Infinity ? \"бесконечности\" : inStockMax}\r\n            </p>\r\n          </div>\r\n        </fieldset>\r\n        <button type='submit'>Сохранить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default DeviceInfo;\r\n","import \"./lk.scss\";\r\nimport DeviceInfo from \"../../components/DeviceInfo/deviceInfo.jsx\";\r\nimport { Route, Switch, Link, useRouteMatch } from \"react-router-dom\";\r\n\r\nconst DeviceAdd = () => {\r\n  let match = useRouteMatch(\"/lk/addDevice/:id\");\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <h4 className='stock__title'>\r\n        {match ? \"Редактирование устройства\" : \"Новое устройство\"}\r\n      </h4>\r\n      <Link to='/lk/device'>Назад</Link>\r\n      <Switch>\r\n        <Route path='/lk/addDevice' exact>\r\n          <DeviceInfo />\r\n        </Route>\r\n        <Route path='/lk/addDevice/:id'>\r\n          <DeviceInfo />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeviceAdd;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport { DeviceContext } from \"../../store/store\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { fetchAllTypes, deleteType, updateType } from \"../../http/typeAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Type = observer(() => {\r\n  const { openModal, setMessage, dialogResult } = useContext(DeviceContext);\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [typeArray, setTypeArray] = useState([]);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchAllTypes().then((data) => {\r\n      data.forEach((item) => (item.disabled = true));\r\n      setTypeArray(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dialogResult === \"Удалить\") {\r\n      deleteType(selected).then((res) => {\r\n        if (res === 200) {\r\n          setMessage({\r\n            title: \"Успешно\",\r\n            text: `Тип удалён`,\r\n            cancel: \"\",\r\n            ok: \"OK\",\r\n          });\r\n          setTypeArray(typeArray.filter((item) => item.id !== selected));\r\n          openModal(\"mess\");\r\n        }\r\n      });\r\n    }\r\n  }, [dialogResult]);\r\n\r\n  const addType = () => {\r\n    setTypeArray([...typeArray, { name: \"\", id: new Date(), disabled: false }]);\r\n  };\r\n\r\n  const editType = (id) => {\r\n    const editType = typeArray.map((item) =>\r\n      item.id === id ? { ...item, disabled: false } : item\r\n    );\r\n    setTypeArray(editType);\r\n  };\r\n\r\n  const handleSaveType = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const typeToSave = typeArray\r\n      .filter((type) => type.name !== \"\")\r\n      .filter((type) => type.disabled === false);\r\n    let saveType = new FormData();\r\n    saveType.append(\"data\", JSON.stringify(typeToSave));\r\n    await updateType(saveType);\r\n    e.target.reset();\r\n    history.push(\"/lk\");\r\n  };\r\n\r\n  const openDialogToDelete = (id, name) => {\r\n    setMessage({\r\n      title: \"Внимание!\",\r\n      text: `Вы действительно хотите удалить ${name} ?`,\r\n      cancel: \"Отмена\",\r\n      ok: \"Удалить\",\r\n    });\r\n    setSelected(id);\r\n    openModal(\"mess\");\r\n  };\r\n\r\n  const changeProps = (key, value, prop_id) => {\r\n    setTypeArray(\r\n      typeArray.map((item) =>\r\n        item.id === prop_id ? { ...item, [key]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='stock'>\r\n      <h4 className='stock__title'>Тип модели</h4>\r\n      <Link to='/lk'>Назад</Link>\r\n      <div className='stock__pki'>\r\n        <form className='table' onSubmit={handleSaveType}>\r\n          <fieldset>\r\n            <legend>Модели</legend>\r\n            <ol>\r\n              {typeArray.map((item) => (\r\n                <li key={item.name + item.id}>\r\n                  <div className='table__row'>\r\n                    <input\r\n                      type='text'\r\n                      name='name'\r\n                      defaultValue={item.name}\r\n                      onBlur={(e) => {\r\n                        const val = e.target.value.trim();\r\n                        e.target.value = val;\r\n                        changeProps(\"name\", val, item.id);\r\n                      }}\r\n                      disabled={item.disabled}\r\n                    />\r\n\r\n                    <button type='button' onClick={() => editType(item.id)}>\r\n                      Редактировать\r\n                    </button>\r\n                    <DeleteForeverIcon\r\n                      className='icon-button'\r\n                      onClick={() => openDialogToDelete(item.id, item.name)}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ol>\r\n            <div className='table__add'>\r\n              <button className='stock__btn' type='button' onClick={addType}>\r\n                Добавить модель\r\n              </button>\r\n            </div>\r\n          </fieldset>\r\n          <div className='table__save'>\r\n            <button className='stock__btn' type='submit'>\r\n              Сохранить\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Type;\r\n","import Lk from \"./pages/lk/lk.jsx\";\r\nimport Main from \"./pages/main.jsx\";\r\nimport Devices from \"./pages/devices.jsx\";\r\nimport Device from \"./pages/device.jsx\";\r\nimport Basket from \"./pages/basket.jsx\";\r\nimport Shop from \"./pages/shop.jsx\";\r\nimport Stock from \"./pages/lk/stock.jsx\";\r\nimport StockPki from \"./pages/lk/StockPki.jsx\";\r\nimport Graph from \"./pages/lk/graph.jsx\";\r\nimport DeviceAdd from \"./pages/lk/device.jsx\";\r\nimport Type from \"./pages/lk/type.jsx\";\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: \"/\",\r\n    component: Main,\r\n  },\r\n  {\r\n    path: \"/device\",\r\n    component: Devices,\r\n  },\r\n  {\r\n    path: \"/device/:id\",\r\n    component: Device,\r\n  },\r\n  {\r\n    path: \"/shop\",\r\n    component: Shop,\r\n  },\r\n  {\r\n    path: \"/basket\",\r\n    component: Basket,\r\n  },\r\n];\r\nexport const myRoom = [\r\n  {\r\n    path: \"/lk\",\r\n    component: Lk,\r\n    routes: [\r\n      {\r\n        path: \"/lk/device\",\r\n        component: Stock,\r\n      },\r\n      {\r\n        path: \"/lk/addDevice\",\r\n        component: DeviceAdd,\r\n      },\r\n      {\r\n        path: \"lk/addDevice/:id\",\r\n        component: DeviceAdd,\r\n      },\r\n      {\r\n        path: \"/lk/pki\",\r\n        component: StockPki,\r\n      },\r\n      {\r\n        path: \"/lk/graph\",\r\n        component: Graph,\r\n      },\r\n      {\r\n        path: \"/lk/type\",\r\n        component: Type,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { useContext } from \"react\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./user.scss\";\r\n\r\nfunction User() {\r\n  const { user } = useContext(UserContext);\r\n  const isAdmin = user.isAdmin;\r\n\r\n  const logOut = () => {\r\n    user.setUser({});\r\n    user.setIsAuth(false);\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n  return (\r\n    <div className='user'>\r\n      <p className='user__name'>{user.user.email}</p>\r\n      {isAdmin && (\r\n        <Link className='user__link' to='/lk'>\r\n          ЛК\r\n        </Link>\r\n      )}\r\n      <button className='user__logout' onClick={logOut}>\r\n        Выйти\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import \"./nav.scss\";\r\nimport { useContext } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport { BasketContext } from \"../../store/BasketStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst Nav = observer(() => {\r\n  let { pathname } = useLocation();\r\n  const { basket } = useContext(BasketContext);\r\n  return (\r\n    <ul className='nav'>\r\n      <li className={pathname === \"/\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/'>Главная</Link>\r\n      </li>\r\n      <li className={pathname === \"/device\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/device'>Устройства</Link>\r\n      </li>\r\n      <li className={pathname === \"/shop\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/shop'>Магазин</Link>\r\n      </li>\r\n      <li className={pathname === \"/basket\" ? \"nav__active\" : \"\"}>\r\n        <Link to='/basket'>\r\n          <ShoppingCartIcon />\r\n          {!!basket.allDevices.length && basket.allDevices.length}\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n});\r\n\r\nexport default Nav;\r\n","import \"./header.scss\";\r\nimport User from \"../user/user\";\r\nimport Nav from \"../nav/nav\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\n// import enginIcon from \"../../static/v-engine.svg\";\r\n\r\nconst Header = observer(({ openLogin }) => {\r\n  const { user } = useContext(UserContext);\r\n  const isLogin = user.isAuth;\r\n  return (\r\n    <header className='header'>\r\n      <div className='container'>\r\n        <div className='header__inner'>\r\n          <div className='header__logo'>\r\n            <Logo />\r\n          </div>\r\n          <div className='header__nav'>\r\n            <Nav />\r\n          </div>\r\n          <div className='header__user'>\r\n            {isLogin && <User />}\r\n            {!isLogin && (\r\n              <button\r\n                className='header__login'\r\n                onClick={() => openLogin(\"login\")}\r\n              >\r\n                Войти\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n});\r\nexport default Header;\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className='logo'>\r\n      {/* <img src={enginIcon} alt='Engine' /> */}\r\n      <svg\r\n        id='Layer_1'\r\n        enableBackground='new 0 0 511.982 511.982'\r\n        height='40'\r\n        viewBox='0 0 511.982 511.982'\r\n        width='40'\r\n        xmlns='http://www.w3.org/2000/svg'\r\n      >\r\n        <g>\r\n          <g>\r\n            <path\r\n              d='m493.606 82.526-53.556-28.539c-6.543-3.485-11.585-5.919-19.482-8.793-7.906-2.877-13.331-4.253-20.577-5.786l-59.369-12.564c-16.638-3.521-31.895 4.011-37.102 18.316l-10.26 28.192c-1.889 5.189.787 10.928 5.977 12.816l5.593 2.036-4.929 19.352c-12.997-7.295-27.974-11.463-43.909-11.463s-30.913 4.168-43.91 11.464l-4.929-19.352 5.592-2.035c2.492-.906 4.522-2.767 5.643-5.17 1.121-2.404 1.241-5.154.334-7.646l-10.261-28.194c-5.207-14.306-20.464-21.839-37.102-18.316l-59.368 12.564c-7.247 1.533-12.672 2.91-20.577 5.786-7.897 2.875-12.939 5.309-19.482 8.794l-53.555 28.538c-15.01 7.997-21.855 23.574-16.648 37.878l10.261 28.191c1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l5.592-2.035 8.744 18.16c-4.55 2.211-6.784 7.55-5.015 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l.893-.325 8.744 18.159c-4.55 2.211-6.783 7.55-5.015 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.606l.893-.325 8.743 18.159c-4.55 2.212-6.783 7.55-5.014 12.408 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.29-.195 3.419-.605l.893-.325 8.743 18.159c-4.55 2.212-6.783 7.551-5.014 12.409 1.478 4.062 5.313 6.583 9.398 6.583 1.135 0 2.291-.195 3.419-.605l.893-.325 14.469 30.049c-1.836 3.272-2.859 6.996-2.863 10.853v18.756l-24.198 15.85c-6.332 4.142-10.117 11.127-10.124 18.695v30.889c0 12.325 10.028 22.353 22.354 22.353h43.789l17.26 29.896c3.982 6.927 11.387 11.234 19.334 11.241h109.502c30.756 0 57.72-16.515 72.512-41.138h49.996c12.326 0 22.354-10.027 22.354-22.353v-30.9c-.007-7.559-3.792-14.544-10.118-18.682l-24.204-15.854v-18.767c-.004-3.852-1.028-7.575-2.862-10.844l14.468-30.047.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.768-4.858-.464-10.196-5.014-12.408l8.743-18.159.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.768-4.858-.464-10.196-5.014-12.408l8.743-18.159.893.325c1.129.411 2.284.606 3.419.606 4.084 0 7.92-2.522 9.398-6.583 1.769-4.858-.465-10.197-5.015-12.408l8.744-18.16.893.325c1.129.41 2.284.605 3.419.605 4.084 0 7.92-2.522 9.398-6.583 1.769-4.858-.465-10.197-5.015-12.408l8.744-18.16 5.592 2.035c1.107.402 2.265.603 3.42.603 1.446 0 2.89-.313 4.226-.937 2.404-1.121 4.264-3.151 5.171-5.644l10.261-28.191c5.211-14.302-1.636-29.878-16.644-37.875zm-167.615 103.566c0 38.598-31.402 70-70 70s-70-31.402-70-70 31.402-70 70-70 70 31.402 70 70zm-243.538-63.142c-1.889-5.19-7.629-7.864-12.817-5.978l-42.273 15.386-6.84-18.794c-2.005-5.509 2.201-10.693 7.259-13.389l53.554-28.535c5.994-3.193 10.054-5.152 16.918-7.65 6.872-2.501 11.24-3.609 17.878-5.015l59.368-12.564c5.605-1.185 12.161.082 14.167 5.59l6.841 18.795-42.279 15.388c-5.189 1.89-7.866 7.628-5.977 12.817 1.889 5.19 7.625 7.867 12.817 5.977l27.196-9.899 4.961 19.478-135.22 49.216-8.72-18.11 27.19-9.896c5.19-1.889 7.865-7.627 5.977-12.817zm95.426 18.476c-4.385 7.639-7.678 15.978-9.674 24.805l-92.759 33.762-8.72-18.11zm-11.859 46.883c.17 6.977 1.136 13.759 2.813 20.259l-75.949 27.643-8.719-18.109zm9.952 38.946c3.174 6.146 7.038 11.879 11.485 17.102l-77.133 28.074-8.719-18.109zm28.127 32.33c3.7 2.62 7.608 4.965 11.69 7.012-2.774.594-5.411 1.707-7.795 3.318l-77.372 44.671-11.577-24.043zm85.581 206.413c-35.585 0-64.536-28.951-64.536-64.536s28.951-64.536 64.536-64.536 64.536 28.951 64.536 64.536-28.951 64.536-64.536 64.536zm-84.536-64.536c0 .582.032 1.157.044 1.736-2.1.477-4.252.728-6.395.728-15.908 0-28.85-12.942-28.85-28.85s12.942-28.851 28.85-28.851c7.805 0 15.116 3.116 20.472 8.528-8.913 13.393-14.121 29.452-14.121 46.709zm208.327-11.8c.993.649 1.071 1.67 1.071 1.957v30.889c0 1.297-1.056 2.353-2.354 2.353h-41.292c2.146-7.436 3.32-15.281 3.32-23.398 0-46.613-37.923-84.536-84.536-84.536-22.151 0-42.328 8.575-57.417 22.566-8.947-8.441-20.827-13.266-33.47-13.266-26.936 0-48.85 21.914-48.85 48.851 0 26.936 21.914 48.85 48.85 48.85 3.061 0 6.131-.313 9.151-.891 4.492 17.005 14.166 31.919 27.219 42.963h-54.977c-.808-.001-1.576-.464-2.013-1.225l-20.156-34.913c-1.787-3.094-5.088-5-8.661-5h-49.562c-1.298 0-2.354-1.056-2.354-2.353v-30.879c0-.297.079-1.317 1.077-1.971l28.724-18.814c2.821-1.848 4.521-4.993 4.521-8.365v-24.149c0-.635.318-1.494 1.225-2.016l85.357-49.281c.273-.157.539-.328.795-.511.4-.284.856-.429 1.357-.429h70.988c.5 0 .957.145 1.357.429.257.183.522.354.795.511l85.375 49.292c.889.511 1.207 1.37 1.208 1.994v24.16c0 3.372 1.7 6.518 4.521 8.365zm-32.11-75.076-77.372-44.672c-2.383-1.611-5.021-2.724-7.794-3.318 4.082-2.047 7.989-4.391 11.689-7.011l85.054 30.957zm20.298-42.155-77.133-28.074c4.447-5.223 8.311-10.956 11.485-17.102l74.367 27.067zm17.439-36.22-75.948-27.643c1.677-6.5 2.644-13.283 2.813-20.259l81.855 29.793zm17.439-36.218-92.759-33.762c-1.996-8.827-5.289-17.167-9.674-24.805l111.153 40.457zm17.44-36.219-135.221-49.218 4.961-19.478 138.98 50.585zm37.483-50.209-6.84 18.794-169.145-61.564 6.84-18.795c2.005-5.508 8.561-6.774 14.167-5.59l59.369 12.564c6.637 1.404 11.005 2.513 17.878 5.015 6.864 2.498 10.924 4.457 16.917 7.649l53.555 28.537c5.058 2.696 9.264 7.881 7.259 13.39z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m255.992 226.092c22.056 0 40-17.944 40-40s-17.944-40-40-40-40 17.944-40 40 17.944 40 40 40zm0-60c11.028 0 20 8.972 20 20s-8.972 20-20 20-20-8.972-20-20 8.971-20 20-20z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m303.779 391.462h-28.2c-5.523 0-10 4.478-10 10s4.477 10 10 10h28.2c5.523 0 10-4.478 10-10s-4.477-10-10-10z'\r\n              fill='#faed26'\r\n            />\r\n            <path\r\n              d='m115.356 120.974c5.523 0 10-4.478 10-10s-4.477-10-10-10h-.007c-5.523 0-9.996 4.478-9.996 10s4.48 10 10.003 10z'\r\n              fill='#faed26'\r\n            />\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import \"./modal.scss\";\r\n\r\nexport default function Modal({ children, isOpen, setOpenModal }) {\r\n  return (\r\n    <div className={isOpen === true ? \"modal modal_active\" : \"modal\"}>\r\n      <div className='modal__container'>\r\n        {children}\r\n        <button\r\n          className='modal__close'\r\n          type='button'\r\n          onClick={() => setOpenModal(false)}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { $host, $authHost } from \"./index\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const registration = async (email, password) => {\r\n  const { data } = await $host.post(\"api/user/registration\", {\r\n    email,\r\n    password,\r\n  });\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  const { data } = await $host.post(\"api/user/login\", {\r\n    email,\r\n    password,\r\n  });\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n\r\nexport const check = async () => {\r\n  const { data } = await $authHost.get(\"api/user/auth\");\r\n  data && data.token && localStorage.setItem(\"token\", data.token);\r\n  return jwt_decode(data.token);\r\n};\r\n","import { useState, useContext } from \"react\";\r\nimport { login, registration } from \"../../http/userAPI\";\r\nimport { UserContext } from \"../../store/UserStore\";\r\nimport \"./login.scss\";\r\n\r\nfunction Login({ setOpenModal }) {\r\n  let [auth, setAuth] = useState(\"login\");\r\n  let [email, setEmail] = useState(\"\");\r\n  let [pass, setPass] = useState(\"\");\r\n  let [isValidPass, setValid] = useState(false);\r\n  const { user } = useContext(UserContext);\r\n\r\n  const changeForm = (e) => {\r\n    e.preventDefault();\r\n    auth === \"login\" ? setAuth(\"reg\") : setAuth(\"login\");\r\n  };\r\n\r\n  const signIn = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let res;\r\n\r\n      if (auth === \"login\") {\r\n        res = await login(email, pass);\r\n      } else {\r\n        if (isValidPass) res = await registration(email, pass);\r\n      }\r\n\r\n      if (res) {\r\n        e.target.reset();\r\n        user.setUser(res);\r\n        user.setIsAuth(true);\r\n        setOpenModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message || error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <h3>{auth === \"login\" ? \"Войти\" : \"Зарегистрироваться\"}</h3>\r\n      <form id='auth' name='auth' className='auth' onSubmit={signIn}>\r\n        <fieldset>\r\n          <label htmlFor='email'>Email:</label>\r\n          <input\r\n            type='email'\r\n            id='email'\r\n            required\r\n            name='email'\r\n            onBlur={(e) => setEmail(e.target.value)}\r\n          />\r\n        </fieldset>\r\n        <fieldset>\r\n          <label htmlFor='pass'>Password:</label>\r\n          <input\r\n            type='password'\r\n            id='pass'\r\n            required\r\n            name='password'\r\n            onBlur={(e) => setPass(e.target.value)}\r\n          />\r\n        </fieldset>\r\n        {auth === \"reg\" && (\r\n          <fieldset>\r\n            <label htmlFor='confirmPass'>Confirm password:</label>\r\n            <input\r\n              type='password'\r\n              id='confirmPass'\r\n              name='confirmPass'\r\n              onBlur={(e) => setValid(pass === e.target.value)}\r\n            />\r\n            {!isValidPass && pass && (\r\n              <p className='auth__helptext'>Пароль не совпадает</p>\r\n            )}\r\n          </fieldset>\r\n        )}\r\n\r\n        <div className='auth__footer'>\r\n          <>\r\n            {auth === \"login\" ? \"Нет аккаунта?\" : \"Уже есть аккаунт?\"}\r\n            <a href='#noscroll' onClick={changeForm}>\r\n              {auth === \"login\" ? \"Зарегистрируйся\" : \"Войди\"}\r\n            </a>\r\n          </>\r\n          <button type='submit'>\r\n            {auth === \"login\" ? \"Войти\" : \"Зарегистрироваться\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import \"./message.scss\";\r\n\r\nfunction Message({ title, text, ok = \"\", cancel = \"Cancel\", closeModal }) {\r\n  return (\r\n    <div className='message'>\r\n      <div className='message__header'>\r\n        <h4>{title}</h4>\r\n      </div>\r\n      <div className='message__body'>\r\n        <p>{text}</p>\r\n      </div>\r\n\r\n      {ok && (\r\n        <div className='message__footer'>\r\n          <button type='button' onClick={() => closeModal(ok)}>\r\n            {ok}\r\n          </button>\r\n          {cancel && (\r\n            <button type='button' onClick={() => closeModal(cancel)}>\r\n              {cancel}\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import \"./DeviceCard.scss\";\r\n\r\nconst DeviceCard = ({ device, setOpenModal }) => {\r\n  return (\r\n    <div className='show-card'>\r\n      <h3>{device.name}</h3>\r\n      <img\r\n        src={process.env.REACT_APP_API_URL + \"/\" + device.img}\r\n        alt='device'\r\n      />\r\n      <p>Стоимость: {device.price} руб.</p>\r\n      <p>Полное описание: {device.descriptionFull}</p>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}>\r\n        <div>Свойства:</div>\r\n        <div style={{ marginLeft: 40 }}>\r\n          {device.props &&\r\n            device.props.map((prop) => (\r\n              <p>\r\n                {prop.title} : {prop.prop}\r\n              </p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}>\r\n        <div>Детали: </div>{\" \"}\r\n        <div style={{ marginLeft: 40 }}>\r\n          {device.pki &&\r\n            device.pki.map((elem) => (\r\n              <p>\r\n                {elem.name} : {elem.value}\r\n              </p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      {/* <button onClick={() => setOpenModal(false)}>Закрыть</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeviceCard;\r\n","import \"./App.scss\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport { myRoom, publicRoutes } from \"./routes\";\r\nimport Header from \"./components/header/header\";\r\nimport { DeviceContext } from \"./store/store\";\r\nimport { UserContext } from \"./store/UserStore\";\r\nimport { DevicesContext } from \"./store/DevicesStore\";\r\nimport Modal from \"./components/modal/modal.jsx\";\r\nimport Login from \"./components/Login/Login.jsx\";\r\nimport Message from \"./components/Message/Message.jsx\";\r\nimport DeviceCard from \"./components/DeviceCard/DeviceCard\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { check } from \"./http/userAPI\";\r\nimport { fetchAllDevices } from \"./http/deviceAPI\";\r\nimport { fetchAllTypes } from \"./http/typeAPI\";\r\n\r\nconst App = observer(() => {\r\n  const { user } = useContext(UserContext);\r\n  const { devices } = useContext(DevicesContext);\r\n\r\n  useEffect(() => {\r\n    check().then((data) => {\r\n      user.setUser(data);\r\n      user.setIsAuth(true);\r\n    });\r\n    fetchAllDevices().then((data) => {\r\n      const devs = {};\r\n      data.forEach((device) => {\r\n        devs[device.id] = device;\r\n      });\r\n      devices.setAllDevices(devs);\r\n    });\r\n    fetchAllTypes().then((data) => {\r\n      devices.setTypes(\r\n        data.reduce((acc, type) => {\r\n          acc[type.id] = type.name;\r\n          return acc;\r\n        }, {})\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  let [isOpenModal, setOpenModal] = useState(false);\r\n  let [typeOfModal, setTypeOfModal] = useState(\"\");\r\n  let [message, setMessage] = useState({});\r\n  const [dialogResult, setDialogResult] = useState(\"\");\r\n\r\n  const admin = user.isAdmin;\r\n\r\n  const openModal = (type) => {\r\n    setTypeOfModal(type);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const closeModal = (value) => {\r\n    setOpenModal(false);\r\n    setDialogResult(value);\r\n    setMessage(message);\r\n  };\r\n\r\n  return (\r\n    <div className='App'>\r\n      <Header openLogin={openModal} />\r\n      <DeviceContext.Provider\r\n        value={{\r\n          isOpenModal,\r\n          openModal,\r\n          setMessage,\r\n          dialogResult,\r\n          setOpenModal,\r\n        }}\r\n      >\r\n        <main>\r\n          <Switch>\r\n            {publicRoutes.map((item, index) => (\r\n              <Route\r\n                key={index}\r\n                path={item.path}\r\n                component={item.component}\r\n                exact\r\n              />\r\n            ))}\r\n            {admin &&\r\n              myRoom.map((item, index) => (\r\n                <Route\r\n                  key={index + 100}\r\n                  path={item.path}\r\n                  component={item.component}\r\n                />\r\n              ))}\r\n            <Redirect to='/' />\r\n          </Switch>\r\n        </main>\r\n      </DeviceContext.Provider>\r\n      <Modal isOpen={isOpenModal} setOpenModal={setOpenModal}>\r\n        {typeOfModal === \"login\" && <Login setOpenModal={setOpenModal} />}\r\n        {typeOfModal === \"mess\" && (\r\n          <Message\r\n            title={message.title}\r\n            text={message.text}\r\n            ok={message.ok}\r\n            cancel={message.cancel}\r\n            closeModal={closeModal}\r\n          />\r\n        )}\r\n        {typeOfModal === \"device\" && (\r\n          <DeviceCard setOpenModal={setOpenModal} device={devices.showDevice} />\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App.jsx\";\r\nimport UserStore, { UserContext } from \"./store/UserStore\";\r\nimport DevicesStore, { DevicesContext } from \"./store/DevicesStore\";\r\nimport BasketStore, { BasketContext } from \"./store/BasketStore\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <UserContext.Provider value={{ user: new UserStore() }}>\r\n        <DevicesContext.Provider value={{ devices: new DevicesStore() }}>\r\n          <BasketContext.Provider value={{ basket: new BasketStore() }}>\r\n            <App />\r\n          </BasketContext.Provider>\r\n        </DevicesContext.Provider>\r\n      </UserContext.Provider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}